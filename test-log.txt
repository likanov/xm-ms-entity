> Task :clean
> Task :cleanResources UP-TO-DATE
> Task :bootBuildInfo
> Task :processResources

> Task :compileJava

> Task :compileGroovy NO-SOURCE
> Task :generateGitProperties
> Task :classes

> Task :compileTestJava

> Task :compileTestGroovy
> Task :processTestResources
> Task :testClasses

> Task :runCategorizedTests

com.icthh.xm.ms.entity.config.amazon.AmazonS3TemplateUnitTest STANDARD_OUT
            ?? Checking the system...
            ? Docker version should be at least 1.6.0
            ? Docker environment should have more than 2GB free disk space

com.icthh.xm.ms.entity.config.amazon.AmazonS3TemplateUnitTest > saveAndLoadByLink STANDARD_OUT
    2021-12-07 09:36:12,971 INFO  [Test worker] [] AmazonS3TemplateUnitTest: true
    2021-12-07 09:36:12,983 INFO  [Test worker] [] AmazonS3Template: Formatted bucket name: test-bucket-for-test
    2021-12-07 09:36:14,030 INFO  [Test worker] [] AmazonS3Template: Bucket: test-bucket-for-test will be created in region null
    2021-12-07 09:36:14,256 INFO  [Test worker] [] AmazonS3TemplateUnitTest: link: http://127.0.0.1:9090/test-bucket-for-test/testkey?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20211207T073614Z&X-Amz-SignedHeaders=host&X-Amz-Expires=100&X-Amz-Credential=foo%2F20211207%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Signature=f3d0e40ada89bda64499cd6731479e80a73e89397097356a5d644b9255280a0b

com.icthh.xm.ms.entity.config.amazon.AmazonS3TemplateUnitTest > saveAndLoadByLink PASSED

com.icthh.xm.ms.entity.config.amazon.AmazonS3TemplateUnitTest > saveWithException PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:36:18,951 INFO  [Test worker] [] JsonbCriteriaBuilderIntTest: spring.datasource.url: jdbc:postgresql://localhost:49166/entity
    2021-12-07 09:36:18,951 INFO  [Test worker] [] JsonbCriteriaBuilderIntTest: The following profiles are active: pg-test
    2021-12-07 09:36:24,572 INFO  [Test worker] [] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:36:28,113 INFO  [Test worker] [] JsonbTypeRegistrator: Run on com.icthh.xm.ms.entity.config.jsonb.CustomPostgreSQL95Dialect dialect. Metadata will be processed. And field marker as @Jsonb will be replaced to jsonb type.
    2021-12-07 09:36:28,114 INFO  [Test worker] [] JsonbTypeRegistrator: Set type for data to jsonb
    2021-12-07 09:36:28,797 ERROR [Test worker] [] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:36:28,800 ERROR [Test worker] [] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest STANDARD_OUT
    2021-12-07 09:36:29,033 INFO  [Test worker] [Qh70sch4::xm] EmbeddedElasticsearchConfig: Init embedded elasticsearchClient for TEST
    2021-12-07 09:36:29,831 WARN  [Test worker] [Qh70sch4::xm] ScriptModule: Script: returning default values for missing document values is deprecated. Set system property '-Des.scripting.exception_for_missing_value=true' to make behaviour compatible with future major versions.
    2021-12-07 09:36:36,268 INFO  [Test worker] [Qh70sch4::xm] IndexReinitializer: All elasticsearch indexes reset in 11 ms
    2021-12-07 09:36:39,101 INFO  [Test worker] [Qh70sch4::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@4f1aa9b3]
    2021-12-07 09:36:39,129 INFO  [Test worker] [Qh70sch4::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@22b6219b, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@3088e96e]
    2021-12-07 09:36:40,696 WARN  [Test worker] [Qh70sch4::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:36:41,741 INFO  [Test worker] [Qh70sch4::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:36:41,766 INFO  [Test worker] [Qh70sch4::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:36:42,076 INFO  [Test worker] [Qh70sch4::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:36:45,930 WARN  [Test worker] [Qh70sch4::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:36:46,237 WARN  [Test worker] [Qh70sch4::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:36:46,372 INFO  [Test worker] [Qh70sch4::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@17ff76d4 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@13ccb399
    2021-12-07 09:36:46,372 INFO  [Test worker] [Qh70sch4::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@304bd6 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@29da7795
    2021-12-07 09:36:46,590 INFO  [Test worker] [Qh70sch4::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:36:46,590 INFO  [Test worker] [Qh70sch4::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:36:46,937 WARN  [Test worker] [Qh70sch4::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:36:49,448 WARN  [Test worker] [Qh70sch4::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:36:50,015 INFO  [Test worker] [Qh70sch4::xm] JsonbCriteriaBuilderIntTest: Started JsonbCriteriaBuilderIntTest in 32.832 seconds (JVM running for 46.432)
    2021-12-07 09:36:50,019 WARN  [Test worker] [Qh70sch4::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > notEqualJsonbObjectTest STANDARD_OUT
    2021-12-07 09:36:50,307 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,339 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,353 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,354 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,371 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,372 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,396 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,397 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,490 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,491 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,507 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,508 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,515 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,517 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,528 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,531 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,536 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,538 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,548 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,549 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,555 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,556 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,562 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,563 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,567 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,568 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,573 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,574 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,587 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,589 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > notEqualJsonbObjectTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > equalJsonbPathTest STANDARD_OUT
    2021-12-07 09:36:50,652 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,653 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,659 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,660 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,664 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,666 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,671 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,672 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,684 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,685 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,691 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,693 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,698 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,700 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,705 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,706 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,713 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,714 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,725 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,726 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,732 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,733 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,737 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,738 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,743 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,744 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,748 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,749 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,765 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,766 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > equalJsonbPathTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanJsonbPathTest STANDARD_OUT
    2021-12-07 09:36:50,799 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,800 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,805 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,806 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,810 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,811 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,815 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,816 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,829 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,831 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,837 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,838 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,843 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,844 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,849 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,850 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,855 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,856 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,863 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,864 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,870 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,871 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,877 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,878 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,883 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,884 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,888 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,889 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,901 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,902 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,906 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,907 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,912 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,913 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,917 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,918 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,921 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,922 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,930 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,931 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanJsonbPathTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > equalJsonbObjectTest STANDARD_OUT
    2021-12-07 09:36:50,958 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,959 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,965 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,966 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,973 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,974 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,979 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,980 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,993 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:50,994 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:50,999 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,001 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,006 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,007 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,014 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,016 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,022 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,023 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,033 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,034 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,038 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,039 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,043 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,044 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,048 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,050 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,054 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,056 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,062 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,063 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > equalJsonbObjectTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > equalJsonbJsonbTest STANDARD_OUT
    2021-12-07 09:36:51,085 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,086 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,088 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,089 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,092 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,092 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,095 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,096 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,103 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,104 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,107 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,108 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,112 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,113 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,118 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,119 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,122 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,123 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,131 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,133 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,138 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,140 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,144 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,145 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,149 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,150 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,155 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,156 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,164 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,165 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,169 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,170 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,174 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,175 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,179 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,180 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,183 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,184 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,193 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,194 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > equalJsonbJsonbTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanJsonbObjectTest STANDARD_OUT
    2021-12-07 09:36:51,223 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,224 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,228 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,229 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,233 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,234 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,239 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,239 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,248 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,249 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,253 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,254 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,257 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,258 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,261 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,262 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,266 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,267 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,276 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,278 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,289 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,291 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,295 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,296 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,299 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,300 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,303 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,304 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,311 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,312 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,315 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,316 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,319 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,320 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,324 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,324 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,327 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,328 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,335 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,337 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanJsonbObjectTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanOrEqualToJsonbObjectTest STANDARD_OUT
    2021-12-07 09:36:51,373 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,374 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,378 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,379 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,383 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,384 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,388 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,390 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,402 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,403 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,406 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,407 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,413 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,413 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,418 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,420 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,426 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,427 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,434 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,435 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,447 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,448 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,451 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,452 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,455 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,455 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,458 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,459 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,465 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,466 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,469 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,470 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,472 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,473 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,475 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,476 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,479 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,479 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,486 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,486 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanOrEqualToJsonbObjectTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanJsonbObjectTest STANDARD_OUT
    2021-12-07 09:36:51,504 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,505 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,508 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,509 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,512 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,513 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,516 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,517 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,524 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,525 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,527 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,529 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,531 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,532 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,534 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,535 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,539 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,540 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,547 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,548 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,561 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,562 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,566 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,567 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,571 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,572 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,576 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,577 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,587 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,588 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,592 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,593 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,598 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,599 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,604 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,606 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,610 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,610 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,619 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,620 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanJsonbObjectTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanJsonbJsonbTest STANDARD_OUT
    2021-12-07 09:36:51,648 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,649 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,653 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,653 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,658 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,659 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,663 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,664 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,673 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,674 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,677 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,678 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,682 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,683 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,687 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,688 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,691 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,692 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,698 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,699 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,712 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,713 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,717 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,717 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,722 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,723 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,727 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,728 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,737 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,737 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,742 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,742 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,745 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,746 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,750 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,750 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,753 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,754 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,762 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,763 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanJsonbJsonbTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanOrEqualToJsonbPathTest STANDARD_OUT
    2021-12-07 09:36:51,792 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,792 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,795 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,796 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,799 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,799 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,802 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,803 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,812 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,813 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,816 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,818 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,821 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,822 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,826 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,826 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,831 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,832 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,840 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,841 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,845 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,846 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,851 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,851 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,856 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,858 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,861 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,862 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,873 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,873 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,876 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,877 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,880 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,881 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,884 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,885 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,889 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,889 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,899 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,900 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanOrEqualToJsonbPathTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > notEqualJsonbPathTest STANDARD_OUT
    2021-12-07 09:36:51,925 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,926 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,929 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,930 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,934 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,935 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,939 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,940 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,949 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,951 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,954 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,955 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,960 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,961 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,966 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,967 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,971 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,972 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,981 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,981 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,984 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,985 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,988 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,989 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,992 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,992 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:51,996 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:51,997 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,005 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,005 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > notEqualJsonbPathTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanJsonbPathTest STANDARD_OUT
    2021-12-07 09:36:52,031 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,032 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,036 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,036 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,041 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,041 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,044 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,045 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,053 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,054 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,058 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,058 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,062 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,063 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,067 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,068 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,071 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,072 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,079 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,080 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,084 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,085 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,088 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,089 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,094 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,095 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,099 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,100 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,108 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,109 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,114 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,114 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,117 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,117 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,120 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,120 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,123 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,124 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,130 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,130 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanJsonbPathTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > notEqualJsonbJsonbTest STANDARD_OUT
    2021-12-07 09:36:52,148 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,148 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,150 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,151 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,153 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,153 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,155 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,156 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,163 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,164 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,167 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,167 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,171 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,172 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,175 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,176 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,178 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,179 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,184 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,185 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > notEqualJsonbJsonbTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanOrEqualToJsonbJsonbTest STANDARD_OUT
    2021-12-07 09:36:52,213 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,214 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,218 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,220 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,224 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,224 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,227 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,227 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,234 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,235 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,237 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,238 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,242 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,242 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,246 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,247 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,251 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,251 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,259 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,260 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,271 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,271 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,275 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,276 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,279 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,279 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,282 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,283 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,291 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,292 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,296 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,296 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,299 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,300 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,302 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,303 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,306 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,306 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,313 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,314 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanOrEqualToJsonbJsonbTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanJsonbJsonbTest STANDARD_OUT
    2021-12-07 09:36:52,345 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,345 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,350 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,351 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,355 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,355 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,359 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,359 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,369 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,370 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,375 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,376 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,380 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,381 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,384 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,385 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,389 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,389 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,398 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,399 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,407 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,408 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,410 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,411 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,426 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,426 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,430 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,430 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,437 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,437 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,441 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,442 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,445 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,445 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,448 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,449 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,453 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,453 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,463 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,463 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanJsonbJsonbTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanOrEqualToJsonbObjectTest STANDARD_OUT
    2021-12-07 09:36:52,485 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,486 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,490 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,491 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,494 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,494 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,497 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,497 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,506 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,506 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,509 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,510 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,512 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,513 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,515 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,516 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,517 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,518 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,524 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,524 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,533 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,533 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,536 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,536 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,538 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,539 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,541 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,541 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,548 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,548 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,551 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,551 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,554 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,554 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,557 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,558 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,560 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,560 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,567 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,567 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanOrEqualToJsonbObjectTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > searchXmEntityByJsonbDataTest STANDARD_OUT
    2021-12-07 09:36:52,588 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,589 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,591 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,592 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,595 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,595 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,598 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,598 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,605 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,606 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,608 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,608 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,611 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,611 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,614 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,614 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,616 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,616 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,621 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,622 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,625 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,625 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,628 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,628 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,630 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,631 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,633 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,633 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,640 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,640 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > searchXmEntityByJsonbDataTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanOrEqualToJsonbJsonbTest STANDARD_OUT
    2021-12-07 09:36:52,658 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,659 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,661 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,661 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,664 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,665 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,668 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,669 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,676 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,676 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,679 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,679 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,681 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,682 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,685 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,686 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,688 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,689 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,694 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,694 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,701 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,702 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,707 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,709 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,713 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,714 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,716 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,716 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,723 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,723 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,726 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,727 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,729 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,730 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,731 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,732 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,735 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,736 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,743 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,744 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > greaterThanOrEqualToJsonbJsonbTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanOrEqualToJsonbPathTest STANDARD_OUT
    2021-12-07 09:36:52,773 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,774 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,776 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,777 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,781 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,781 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,783 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,784 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,790 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,791 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,793 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,793 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,795 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,796 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,799 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,799 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,801 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,802 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,806 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,807 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,809 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,809 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,811 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,812 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,814 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,814 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,816 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,817 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,822 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,822 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,824 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,825 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,827 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,828 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,830 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,830 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,832 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,833 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:36:52,837 INFO  [Test worker] [Qh70sch4::xm] EntityCustomPrivilegeService: Get config from /config/tenants/TEST/custom-privileges.yml
    2021-12-07 09:36:52,838 INFO  [Test worker] [Qh70sch4::xm] XmEntitySpecService: Specification was for tenant TEST updated from file /config/tenants/TEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest > lessThanOrEqualToJsonbPathTest PASSED

com.icthh.xm.ms.entity.config.jsonb.JsonbCriteriaBuilderIntTest STANDARD_OUT
    2021-12-07 09:36:52,870 INFO  [Test worker] [Qh70sch4::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:36:56,580 INFO  [Test worker] [Qh70sch4::xm] TenantInterceptorIntTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:36:57,993 INFO  [Test worker] [Qh70sch4::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:36:58,825 INFO  [Test worker] [Qh70sch4::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:36:58,965 ERROR [Test worker] [Qh70sch4::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:36:58,966 ERROR [Test worker] [Qh70sch4::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest STANDARD_OUT
    2021-12-07 09:36:59,300 INFO  [Test worker] [RTyUAHsE::xm] IndexReinitializer: All elasticsearch indexes reset in 33 ms
    2021-12-07 09:37:00,383 INFO  [Test worker] [RTyUAHsE::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@1fe14b5]
    2021-12-07 09:37:00,391 INFO  [Test worker] [RTyUAHsE::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@6c5af8a1, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@4ad02a67]
    2021-12-07 09:37:01,569 INFO  [Test worker] [RTyUAHsE::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:01,578 INFO  [Test worker] [RTyUAHsE::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:37:01,746 INFO  [Test worker] [RTyUAHsE::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:37:03,202 WARN  [Test worker] [RTyUAHsE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:03,374 WARN  [Test worker] [RTyUAHsE::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:37:03,437 INFO  [Test worker] [RTyUAHsE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@52796842 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@6f266080
    2021-12-07 09:37:03,437 INFO  [Test worker] [RTyUAHsE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@9204f7a and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7b7b9a84
    2021-12-07 09:37:03,495 INFO  [Test worker] [RTyUAHsE::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:37:03,495 INFO  [Test worker] [RTyUAHsE::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:37:03,682 WARN  [Test worker] [RTyUAHsE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:04,930 WARN  [Test worker] [RTyUAHsE::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:37:05,249 INFO  [Test worker] [RTyUAHsE::xm] TenantInterceptorIntTest: Started TenantInterceptorIntTest in 9.28 seconds (JVM running for 61.667)
    2021-12-07 09:37:05,252 WARN  [Test worker] [RTyUAHsE::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testEmptyDetails STANDARD_OUT
    2021-12-07 09:37:05,360 WARN  [Test worker] [RTyUAHsE::xm] TenantInterceptor: Can't obtain tenant name from authentication details

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testEmptyDetails PASSED

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testEmptyAuth STANDARD_OUT
    2021-12-07 09:37:05,380 WARN  [Test worker] [RTyUAHsE::xm] TenantInterceptor: Can't obtain tenant name from authentication details

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testEmptyAuth PASSED

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testNoAuth STANDARD_OUT
    2021-12-07 09:37:05,394 WARN  [Test worker] [RTyUAHsE::xm] TenantInterceptor: Can't obtain tenant name from authentication details

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testNoAuth PASSED

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest > testSuccess SKIPPED

com.icthh.xm.ms.entity.config.tenant.TenantInterceptorIntTest STANDARD_OUT
    2021-12-07 09:37:05,407 INFO  [Test worker] [RTyUAHsE::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.config.tenant.TenantManagerConfigurationUnitTest > testCreateTenantProvisioningOrder STANDARD_OUT
    2021-12-07 09:37:05,509 INFO  [Test worker] [RTyUAHsE::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/specification.yml, /config/tenants/{tenantName}/webapp/public-settings.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:05,516 INFO  [Test worker] [RTyUAHsE::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$MockitoMock$285263750, TenantListProvisioner$MockitoMock$248335572, TenantDatabaseProvisioner$MockitoMock$721501259, TenantConfigProvisioner$MockitoMock$1920368956, TenantElasticsearchProvisioner$MockitoMock$1757999152, TenantDefaultUserProfileProvisioner$MockitoMock$2070180854]}

com.icthh.xm.ms.entity.config.tenant.TenantManagerConfigurationUnitTest > testCreateTenantProvisioningOrder PASSED

com.icthh.xm.ms.entity.config.tenant.TenantManagerConfigurationUnitTest > testCreateTenantConfigProvisioning STANDARD_OUT
    2021-12-07 09:37:05,537 INFO  [Test worker] [RTyUAHsE::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/specification.yml, /config/tenants/{tenantName}/webapp/public-settings.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:05,537 INFO  [Test worker] [RTyUAHsE::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$MockitoMock$285263750, TenantListProvisioner$MockitoMock$248335572, TenantDatabaseProvisioner$MockitoMock$721501259, TenantConfigProvisioner$MockitoMock$1920368956, TenantElasticsearchProvisioner$MockitoMock$1757999152, TenantDefaultUserProfileProvisioner$MockitoMock$2070180854]}

com.icthh.xm.ms.entity.config.tenant.TenantManagerConfigurationUnitTest > testCreateTenantConfigProvisioning PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testCorsFilterOnOtherPath PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testCorsFilterDeactivated PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testStartUpProdServletContext STANDARD_OUT
    2021-12-07 09:37:05,652 INFO  [Test worker] [RTyUAHsE::xm] WebConfigurer: Web application configuration, using profiles: prod
    2021-12-07 09:37:05,656 INFO  [Test worker] [RTyUAHsE::xm] WebConfigurer: Web application fully configured

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testStartUpProdServletContext PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testUndertowHttp2Enabled PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testCorsFilterOnApiPath PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testStartUpDevServletContext STANDARD_OUT
    2021-12-07 09:37:05,753 INFO  [Test worker] [RTyUAHsE::xm] WebConfigurer: Web application configuration, using profiles: dev
    2021-12-07 09:37:05,755 INFO  [Test worker] [RTyUAHsE::xm] WebConfigurer: Web application fully configured

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testStartUpDevServletContext PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testCorsFilterDeactivated2 PASSED

com.icthh.xm.ms.entity.config.WebConfigurerIntTest > testCustomizeServletContainer PASSED

com.icthh.xm.ms.entity.config.XmEntityTenantConfigServiceUnitTest > nullConfigDefaultsTest PASSED

com.icthh.xm.ms.entity.cucumber.CucumberTest STANDARD_OUT
    2021-12-07 09:37:05,847 WARN  [Test worker] [RTyUAHsE::xm] FeaturePathFeatureSupplier: No features found at file:src/test/features/

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > getKey PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > isSelf PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > of PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > of1 PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > isId PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > errorOfNullNumber PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > getId PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > isKey PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > ofKey PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > errorOfNullString PASSED

com.icthh.xm.ms.entity.domain.ext.IdOrKeyUnitTest > errorOfKeyNull PASSED

com.icthh.xm.ms.entity.domain.idresolver.XmEntityObjectIdResolverUnitTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:06,582 INFO  [Test worker] [RTyUAHsE::xm] XmEntityObjectIdResolverUnitTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:06,964 WARN  [Test worker] [RTyUAHsE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:07,230 INFO  [Test worker] [RTyUAHsE::xm] XmEntityObjectIdResolverUnitTest: Started XmEntityObjectIdResolverUnitTest in 1.261 seconds (JVM running for 63.646)

com.icthh.xm.ms.entity.domain.idresolver.XmEntityObjectIdResolverUnitTest > shouldCreatePrototypeEveryTime PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:07,887 INFO  [Test worker] [RTyUAHsE::xm] AvatarUrlListenerUnitTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:08,796 INFO  [Test worker] [RTyUAHsE::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:37:09,210 INFO  [Test worker] [RTyUAHsE::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:37:09,332 ERROR [Test worker] [RTyUAHsE::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:37:09,332 ERROR [Test worker] [RTyUAHsE::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest STANDARD_OUT
    2021-12-07 09:37:09,571 INFO  [Test worker] [sPxSSviE::xm] IndexReinitializer: All elasticsearch indexes reset in 28 ms
    2021-12-07 09:37:10,636 INFO  [Test worker] [sPxSSviE::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@22eaffde]
    2021-12-07 09:37:10,645 INFO  [Test worker] [sPxSSviE::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@54426204, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@5a5928dd]
    2021-12-07 09:37:11,833 INFO  [Test worker] [sPxSSviE::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:11,845 INFO  [Test worker] [sPxSSviE::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:37:11,997 INFO  [Test worker] [sPxSSviE::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:37:13,029 WARN  [Test worker] [sPxSSviE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:13,195 WARN  [Test worker] [sPxSSviE::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:37:13,270 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@423de530 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@921552e
    2021-12-07 09:37:13,270 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@4121449c and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@164ef2f7
    2021-12-07 09:37:13,326 INFO  [Test worker] [sPxSSviE::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:37:13,326 INFO  [Test worker] [sPxSSviE::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:37:13,486 WARN  [Test worker] [sPxSSviE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:14,720 WARN  [Test worker] [sPxSSviE::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:37:14,996 INFO  [Test worker] [sPxSSviE::xm] AvatarUrlListenerUnitTest: Started AvatarUrlListenerUnitTest in 7.636 seconds (JVM running for 71.413)
    2021-12-07 09:37:14,998 WARN  [Test worker] [sPxSSviE::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPrePersistEmpty PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPostLoadSuccess SKIPPED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPrePersistSuccessNginx PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPrePersistWrongFormat PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPostLoadWrongFormat PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPrePersistSuccess PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest > testPostLoadEmpty PASSED

com.icthh.xm.ms.entity.domain.listener.AvatarUrlListenerUnitTest STANDARD_OUT
    2021-12-07 09:37:15,036 INFO  [Test worker] [sPxSSviE::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringLepUnitTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:15,665 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringLepUnitTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:16,094 WARN  [Test worker] [sPxSSviE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:16,310 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringLepUnitTest: Started JsonResponseFilteringLepUnitTest in 1.262 seconds (JVM running for 72.727)

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringLepUnitTest > testXmEntityFilterByLepDisabled STANDARD_OUT
    2021-12-07 09:37:16,315 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5510aeba and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@18e94e4
    2021-12-07 09:37:16,478 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringLepUnitTest: MVC result: [ {
      "id" : 1,
      "key" : "AAAAAAAAAA",
      "typeKey" : "ACCOUNT.USER",
      "stateKey" : "STATE2",
      "name" : "AAAAAAAAAA",
      "startDate" : "1970-01-01T00:00:01Z",
      "updateDate" : "1970-01-01T00:00:02Z",
      "endDate" : "1970-01-01T00:00:03Z",
      "description" : "AAAAAAAAAA",
      "data" : {
        "AAAAAAAAAA" : "BBBBBBBBBB"
      },
      "removed" : false,
      "createdBy" : "admin",
      "attachments" : [ {
        "typeKey" : "AAAAAAAAAA",
        "name" : "Attachment1",
        "contentUrl" : "content url",
        "description" : "Attachment description",
        "startDate" : "2021-12-07T07:37:16.333813100Z",
        "endDate" : "2021-12-07T07:37:16.333813100Z",
        "valueContentType" : "my-content",
        "valueContentSize" : 15,
        "content" : {
          "value" : "VEhJUyBJUyBDT05URU5U"
        }
      } ],
      "locations" : [ {
        "typeKey" : "AAAAAAAAAA",
        "countryKey" : "UA",
        "name" : "My location"
      } ],
      "tags" : [ {
        "id" : 2,
        "typeKey" : "FAVORIT",
        "name" : "Test",
        "startDate" : "1970-01-01T00:00:01Z",
        "xmEntity" : 1
      } ],
      "avatarUrl" : "http://xm-avatar.rgw.icthh.test:7480/aaaaa.jpg"
    }, {
      "id" : 3,
      "key" : "AAAAAAAAAA",
      "typeKey" : "ACCOUNT.USER",
      "stateKey" : "STATE2",
      "name" : "AAAAAAAAAA",
      "startDate" : "1970-01-01T00:00:01Z",
      "updateDate" : "1970-01-01T00:00:02Z",
      "endDate" : "1970-01-01T00:00:03Z",
      "description" : "AAAAAAAAAA",
      "data" : {
        "AAAAAAAAAA" : "BBBBBBBBBB"
      },
      "removed" : false,
      "createdBy" : "admin",
      "attachments" : [ {
        "typeKey" : "AAAAAAAAAA",
        "name" : "Attachment1",
        "contentUrl" : "content url",
        "description" : "Attachment description",
        "startDate" : "2021-12-07T07:37:16.333813100Z",
        "endDate" : "2021-12-07T07:37:16.333813100Z",
        "valueContentType" : "my-content",
        "valueContentSize" : 15,
        "content" : {
          "value" : "VEhJUyBJUyBDT05URU5U"
        }
      } ],
      "locations" : [ {
        "typeKey" : "AAAAAAAAAA",
        "countryKey" : "UA",
        "name" : "My location"
      } ],
      "tags" : [ {
        "id" : 4,
        "typeKey" : "FAVORIT",
        "name" : "Test",
        "startDate" : "1970-01-01T00:00:01Z",
        "xmEntity" : 3
      } ],
      "avatarUrl" : "http://xm-avatar.rgw.icthh.test:7480/aaaaa.jpg"
    } ]
    2021-12-07 09:37:16,488 INFO  [Test worker] [sPxSSviE::xm] XmLepScriptConfigServerResourceLoader: LEP script created by config path: /config/tenants/RESINTTEST/entity/lep/serialize/filter/CustomizeFilter$$around.groovy
    2021-12-07 09:37:16,494 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringLepUnitTest: MVC result: [ {
      "id" : 1,
      "key" : "AAAAAAAAAA",
      "typeKey" : "ACCOUNT.USER",
      "stateKey" : "STATE2",
      "name" : "AAAAAAAAAA",
      "startDate" : "1970-01-01T00:00:01Z",
      "updateDate" : "1970-01-01T00:00:02Z",
      "endDate" : "1970-01-01T00:00:03Z",
      "description" : "AAAAAAAAAA",
      "data" : {
        "AAAAAAAAAA" : "BBBBBBBBBB"
      },
      "removed" : false,
      "createdBy" : "admin",
      "attachments" : [ {
        "typeKey" : "AAAAAAAAAA",
        "name" : "Attachment1",
        "contentUrl" : "content url",
        "description" : "Attachment description",
        "startDate" : "2021-12-07T07:37:16.333813100Z",
        "endDate" : "2021-12-07T07:37:16.333813100Z",
        "valueContentType" : "my-content",
        "valueContentSize" : 15,
        "content" : {
          "value" : "VEhJUyBJUyBDT05URU5U"
        }
      } ],
      "locations" : [ {
        "typeKey" : "AAAAAAAAAA",
        "countryKey" : "UA",
        "name" : "My location"
      } ],
      "tags" : [ {
        "id" : 2,
        "typeKey" : "FAVORIT",
        "name" : "Test",
        "startDate" : "1970-01-01T00:00:01Z",
        "xmEntity" : 1
      } ],
      "avatarUrl" : "http://xm-avatar.rgw.icthh.test:7480/aaaaa.jpg"
    }, {
      "id" : 3,
      "key" : "AAAAAAAAAA",
      "typeKey" : "ACCOUNT.USER",
      "stateKey" : "STATE2",
      "name" : "AAAAAAAAAA",
      "startDate" : "1970-01-01T00:00:01Z",
      "updateDate" : "1970-01-01T00:00:02Z",
      "endDate" : "1970-01-01T00:00:03Z",
      "description" : "AAAAAAAAAA",
      "data" : {
        "AAAAAAAAAA" : "BBBBBBBBBB"
      },
      "removed" : false,
      "createdBy" : "admin",
      "attachments" : [ {
        "typeKey" : "AAAAAAAAAA",
        "name" : "Attachment1",
        "contentUrl" : "content url",
        "description" : "Attachment description",
        "startDate" : "2021-12-07T07:37:16.333813100Z",
        "endDate" : "2021-12-07T07:37:16.333813100Z",
        "valueContentType" : "my-content",
        "valueContentSize" : 15,
        "content" : {
          "value" : "VEhJUyBJUyBDT05URU5U"
        }
      } ],
      "locations" : [ {
        "typeKey" : "AAAAAAAAAA",
        "countryKey" : "UA",
        "name" : "My location"
      } ],
      "tags" : [ {
        "id" : 4,
        "typeKey" : "FAVORIT",
        "name" : "Test",
        "startDate" : "1970-01-01T00:00:01Z",
        "xmEntity" : 3
      } ],
      "avatarUrl" : "http://xm-avatar.rgw.icthh.test:7480/aaaaa.jpg"
    } ]
    2021-12-07 09:37:16,496 INFO  [Test worker] [sPxSSviE::xm] XmLepScriptConfigServerResourceLoader: LEP script deleted by config path: /config/tenants/RESINTTEST/entity/lep/serialize/filter/CustomizeFilter$$around.groovy

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringLepUnitTest > testXmEntityFilterByLepDisabled PASSED

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringLepUnitTest > testLinksFilterByLepApplied STANDARD_OUT
    2021-12-07 09:37:16,500 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5510aeba and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@18e94e4
    2021-12-07 09:37:16,510 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Init Squiggly holders in http context
    2021-12-07 09:37:16,561 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Clear Squiggly holders in http context
    2021-12-07 09:37:16,561 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringLepUnitTest: MVC result: [ {
      "id" : 11,
      "typeKey" : "LINK",
      "name" : "link name",
      "description" : "descr",
      "startDate" : "2021-12-07T07:37:16.509415600Z",
      "endDate" : "2021-12-07T07:37:17.509415600Z",
      "target" : {
        "id" : 7,
        "key" : "AAAAAAAAAA",
        "typeKey" : "ACCOUNT.USER",
        "stateKey" : "STATE2",
        "name" : "AAAAAAAAAA",
        "startDate" : "1970-01-01T00:00:01Z",
        "updateDate" : "1970-01-01T00:00:02Z",
        "endDate" : "1970-01-01T00:00:03Z",
        "description" : "AAAAAAAAAA",
        "data" : {
          "AAAAAAAAAA" : "BBBBBBBBBB"
        },
        "removed" : false,
        "createdBy" : "admin"
      },
      "source" : 5
    }, {
      "id" : 12,
      "typeKey" : "LINK",
      "name" : "link name",
      "description" : "descr",
      "startDate" : "2021-12-07T07:37:16.509415600Z",
      "endDate" : "2021-12-07T07:37:17.509415600Z",
      "target" : {
        "id" : 9,
        "key" : "AAAAAAAAAA",
        "typeKey" : "ACCOUNT.USER",
        "stateKey" : "STATE2",
        "name" : "AAAAAAAAAA",
        "startDate" : "1970-01-01T00:00:01Z",
        "updateDate" : "1970-01-01T00:00:02Z",
        "endDate" : "1970-01-01T00:00:03Z",
        "description" : "AAAAAAAAAA",
        "data" : {
          "AAAAAAAAAA" : "BBBBBBBBBB"
        },
        "removed" : false,
        "createdBy" : "admin"
      },
      "source" : 5
    } ]
    2021-12-07 09:37:16,566 INFO  [Test worker] [sPxSSviE::xm] XmLepScriptConfigServerResourceLoader: LEP script created by config path: /config/tenants/RESINTTEST/entity/lep/serialize/filter/CustomizeFilter$$around.groovy
    2021-12-07 09:37:16,567 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Init Squiggly holders in http context
    2021-12-07 09:37:16,577 INFO  [Test worker] [sPxSSviE::xm] XmLepLoggingExecutorListener: lep:start: execute lep at [XmSquigglyFilterCustomizer:customizeFilter], script: lep://RESINTTEST/serialize/filter/CustomizeFilter$$around.groovy
    ### INSIDE CustomizeFilter LEP: incoming filter = **,target.id,target.key,target.typeKey,target.stateKey,target.name,target.startDate,target.endDate,target.updateDate,target.description,target.createdBy,target.removed,target.data
    ### INSIDE CustomizeFilter LEP: reqest URI = /api/xm-entities/5/links/targets
    ### INSIDE CustomizeFilter LEP: beanClass = class com.icthh.xm.ms.entity.domain.Link
    ### INSIDE CustomizeFilter LEP: applied filter = name,source,id
    2021-12-07 09:37:17,001 INFO  [Test worker] [sPxSSviE::xm] XmLepLoggingExecutorListener: lep:stop:  execute lep at [XmSquigglyFilterCustomizer:customizeFilter], script: lep://RESINTTEST/serialize/filter/CustomizeFilter$$around.groovy
    2021-12-07 09:37:17,004 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Clear Squiggly holders in http context
    2021-12-07 09:37:17,004 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringLepUnitTest: MVC result: [ {
      "id" : 11,
      "name" : "link name",
      "source" : 5
    }, {
      "id" : 12,
      "name" : "link name",
      "source" : 5
    } ]
    2021-12-07 09:37:17,004 INFO  [Test worker] [sPxSSviE::xm] XmLepScriptConfigServerResourceLoader: LEP script deleted by config path: /config/tenants/RESINTTEST/entity/lep/serialize/filter/CustomizeFilter$$around.groovy

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringLepUnitTest > testLinksFilterByLepApplied PASSED

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:17,571 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:17,848 WARN  [Test worker] [sPxSSviE::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:18,059 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: Started JsonResponseFilteringUnitTest in 1.047 seconds (JVM running for 74.477)

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testLinksFilteringDisabled STANDARD_OUT
    2021-12-07 09:37:18,063 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5ef19cd8 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7d9c8442
    2021-12-07 09:37:18,079 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: MVC result: [ {
      "id" : 17,
      "typeKey" : "LINK",
      "name" : "link name",
      "description" : "descr",
      "startDate" : "2021-12-07T07:37:18.071565600Z",
      "endDate" : "2021-12-07T07:37:19.071565600Z",
      "target" : {
        "id" : 15,
        "key" : "AAAAAAAAAA",
        "typeKey" : "ACCOUNT.USER",
        "stateKey" : "STATE2",
        "name" : "AAAAAAAAAA",
        "startDate" : "1970-01-01T00:00:01Z",
        "updateDate" : "1970-01-01T00:00:02Z",
        "endDate" : "1970-01-01T00:00:03Z",
        "description" : "AAAAAAAAAA",
        "data" : {
          "AAAAAAAAAA" : "BBBBBBBBBB"
        },
        "removed" : false,
        "createdBy" : "admin"
      },
      "source" : 13
    } ]

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testLinksFilteringDisabled PASSED

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testLinksFilterDefault STANDARD_OUT
    2021-12-07 09:37:18,084 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5ef19cd8 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7d9c8442
    2021-12-07 09:37:18,095 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: MVC result: [ {
      "id" : 22,
      "typeKey" : "LINK",
      "name" : "link name",
      "description" : "descr",
      "startDate" : "2021-12-07T07:37:18.092580800Z",
      "endDate" : "2021-12-07T07:37:19.092580800Z",
      "target" : {
        "id" : 20,
        "key" : "AAAAAAAAAA",
        "typeKey" : "ACCOUNT.USER",
        "stateKey" : "STATE2",
        "name" : "AAAAAAAAAA",
        "startDate" : "1970-01-01T00:00:01Z",
        "updateDate" : "1970-01-01T00:00:02Z",
        "endDate" : "1970-01-01T00:00:03Z",
        "description" : "AAAAAAAAAA",
        "data" : {
          "AAAAAAAAAA" : "BBBBBBBBBB"
        },
        "removed" : false,
        "createdBy" : "admin"
      },
      "source" : 18
    } ]

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testLinksFilterDefault PASSED

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testXmEntityLinkTargetFilterDefault STANDARD_OUT
    2021-12-07 09:37:18,100 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5ef19cd8 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7d9c8442
    2021-12-07 09:37:18,109 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Init Squiggly holders in http context
    2021-12-07 09:37:18,111 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Clear Squiggly holders in http context
    2021-12-07 09:37:18,112 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: MVC result: [ {
      "id" : 29,
      "typeKey" : "LINK",
      "name" : "link name",
      "description" : "descr",
      "startDate" : "2021-12-07T07:37:18.108581300Z",
      "endDate" : "2021-12-07T07:37:19.108581300Z",
      "target" : {
        "id" : 25,
        "key" : "AAAAAAAAAA",
        "typeKey" : "ACCOUNT.USER",
        "stateKey" : "STATE2",
        "name" : "AAAAAAAAAA",
        "startDate" : "1970-01-01T00:00:01Z",
        "updateDate" : "1970-01-01T00:00:02Z",
        "endDate" : "1970-01-01T00:00:03Z",
        "description" : "AAAAAAAAAA",
        "data" : {
          "AAAAAAAAAA" : "BBBBBBBBBB"
        },
        "removed" : false,
        "createdBy" : "admin"
      },
      "source" : 23
    }, {
      "id" : 30,
      "typeKey" : "LINK",
      "name" : "link name",
      "description" : "descr",
      "startDate" : "2021-12-07T07:37:18.108581300Z",
      "endDate" : "2021-12-07T07:37:19.108581300Z",
      "target" : {
        "id" : 27,
        "key" : "AAAAAAAAAA",
        "typeKey" : "ACCOUNT.USER",
        "stateKey" : "STATE2",
        "name" : "AAAAAAAAAA",
        "startDate" : "1970-01-01T00:00:01Z",
        "updateDate" : "1970-01-01T00:00:02Z",
        "endDate" : "1970-01-01T00:00:03Z",
        "description" : "AAAAAAAAAA",
        "data" : {
          "AAAAAAAAAA" : "BBBBBBBBBB"
        },
        "removed" : false,
        "createdBy" : "admin"
      },
      "source" : 23
    } ]

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testXmEntityLinkTargetFilterDefault PASSED

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testXmEntityLinkTargetFilterEnabled STANDARD_OUT
    2021-12-07 09:37:18,118 INFO  [Test worker] [sPxSSviE::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5ef19cd8 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7d9c8442
    2021-12-07 09:37:18,128 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Init Squiggly holders in http context
    2021-12-07 09:37:18,134 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Clear Squiggly holders in http context
    2021-12-07 09:37:18,134 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: MVC result: [ {
      "target" : {
        "tags" : [ {
          "id" : 34,
          "typeKey" : "FAVORIT",
          "name" : "Test",
          "startDate" : "1970-01-01T00:00:01Z",
          "xmEntity" : 33
        } ]
      }
    }, {
      "target" : {
        "tags" : [ {
          "id" : 36,
          "typeKey" : "FAVORIT",
          "name" : "Test",
          "startDate" : "1970-01-01T00:00:01Z",
          "xmEntity" : 35
        } ]
      }
    } ]
    2021-12-07 09:37:18,139 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Init Squiggly holders in http context
    2021-12-07 09:37:18,146 INFO  [Test worker] [sPxSSviE::xm] XmSquigglyInterceptor: Clear Squiggly holders in http context
    2021-12-07 09:37:18,146 INFO  [Test worker] [sPxSSviE::xm] JsonResponseFilteringUnitTest: MVC result: [ {
      "target" : {
        "attachments" : [ {
          "contentUrl" : "content url"
        } ]
      }
    }, {
      "target" : {
        "attachments" : [ {
          "contentUrl" : "content url"
        } ]
      }
    } ]

com.icthh.xm.ms.entity.domain.serializer.JsonResponseFilteringUnitTest > testXmEntityLinkTargetFilterEnabled PASSED

com.icthh.xm.ms.entity.domain.spec.XmEntitySpecUnitTest > testParseXmEntitySpecFromYmlForSeveralTenants PASSED

com.icthh.xm.ms.entity.domain.spec.XmEntitySpecUnitTest > testEquals PASSED

com.icthh.xm.ms.entity.domain.spec.XmEntitySpecUnitTest > testParseXmEntitySpecFromYml PASSED

com.icthh.xm.ms.entity.lep.keyresolver.FunctionWithXmEntityLepKeyResolverUnitTest > validFunctionKeyEntityTypeKey PASSED

com.icthh.xm.ms.entity.lep.keyresolver.FunctionWithXmEntityLepKeyResolverUnitTest > exceptionOnNullFunctionKey PASSED

com.icthh.xm.ms.entity.lep.keyresolver.FunctionWithXmEntityLepKeyResolverUnitTest > baseKeyCantBeNull PASSED

com.icthh.xm.ms.entity.lep.LepContextCastIntTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:18,894 INFO  [Test worker] [sPxSSviE::xm] LepContextCastIntTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:19,866 INFO  [Test worker] [sPxSSviE::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:37:20,238 INFO  [Test worker] [sPxSSviE::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:37:20,388 ERROR [Test worker] [sPxSSviE::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:37:20,389 ERROR [Test worker] [sPxSSviE::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.lep.LepContextCastIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.lep.LepContextCastIntTest STANDARD_OUT
    2021-12-07 09:37:20,647 INFO  [Test worker] [HO3IzetY::xm] IndexReinitializer: All elasticsearch indexes reset in 29 ms
    2021-12-07 09:37:21,662 INFO  [Test worker] [HO3IzetY::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@37797b8e]
    2021-12-07 09:37:21,690 INFO  [Test worker] [HO3IzetY::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@3031194f, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@4da5f689]
    2021-12-07 09:37:22,784 INFO  [Test worker] [HO3IzetY::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:22,795 INFO  [Test worker] [HO3IzetY::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:37:23,007 INFO  [Test worker] [HO3IzetY::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:37:23,945 WARN  [Test worker] [HO3IzetY::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:24,159 WARN  [Test worker] [HO3IzetY::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:37:24,225 INFO  [Test worker] [HO3IzetY::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@12c61d5c and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@634d0729
    2021-12-07 09:37:24,225 INFO  [Test worker] [HO3IzetY::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@57d74c4e and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@193bf2ef
    2021-12-07 09:37:24,279 INFO  [Test worker] [HO3IzetY::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:37:24,280 INFO  [Test worker] [HO3IzetY::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:37:24,441 WARN  [Test worker] [HO3IzetY::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:25,694 WARN  [Test worker] [HO3IzetY::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:37:26,016 INFO  [Test worker] [HO3IzetY::xm] LepContextCastIntTest: Started LepContextCastIntTest in 7.656 seconds (JVM running for 82.433)
    2021-12-07 09:37:26,020 WARN  [Test worker] [HO3IzetY::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.lep.LepContextCastIntTest > testLepContextCast STANDARD_OUT
    2021-12-07 09:37:26,035 INFO  [Test worker] [HO3IzetY::xm] XmLepScriptConfigServerResourceLoader: LEP script created by config path: /config/tenants/RESINTTEST/entity/lep/function/Function$$LEP_CONTEXT_TEST$$tenant.groovy
    2021-12-07 09:37:26,042 INFO  [Test worker] [HO3IzetY::xm] XmLepLoggingExecutorListener: lep:start: execute lep at [FunctionExecutorService:execute], script: lep://RESINTTEST/function/Function$$LEP_CONTEXT_TEST$$tenant.groovy
    2021-12-07 09:37:26,071 INFO  [Test worker] [HO3IzetY::xm] XmLepLoggingExecutorListener: lep:stop:  execute lep at [FunctionExecutorService:execute], script: lep://RESINTTEST/function/Function$$LEP_CONTEXT_TEST$$tenant.groovy
    2021-12-07 09:37:26,071 INFO  [Test worker] [HO3IzetY::xm] XmLepScriptConfigServerResourceLoader: LEP script deleted by config path: /config/tenants/RESINTTEST/entity/lep/function/Function$$LEP_CONTEXT_TEST$$tenant.groovy

com.icthh.xm.ms.entity.lep.LepContextCastIntTest > testLepContextCast PASSED

com.icthh.xm.ms.entity.lep.LepContextCastIntTest STANDARD_OUT
    2021-12-07 09:37:26,084 INFO  [Test worker] [HO3IzetY::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.lep.TenantLepResourceUnitTest > onRefresh PASSED

com.icthh.xm.ms.entity.lep.TenantLepResourceUnitTest > isListeningConfiguration PASSED

com.icthh.xm.ms.entity.repository.backend.StorageRepositoryUnitTest > testStore PASSED

com.icthh.xm.ms.entity.repository.kafka.SystemEventUnitTest > testToString PASSED

com.icthh.xm.ms.entity.repository.util.SystemEventMapperUnitTest > testMapWithoutDate PASSED

com.icthh.xm.ms.entity.repository.util.SystemEventMapperUnitTest > testMap PASSED

com.icthh.xm.ms.entity.repository.util.SystemEventMapperUnitTest > testMapProfileAlreadyExists PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkContextPermissionFailsIfSuffixPermissionIsNull PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkStateChangeUnsupportedYet PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkStateChangePermissionFailsIfSuffixPermissionIsNull PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > assertCallBasicCheckIfTenantConfigNotProvided PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkContextPermissionFailsIfSuffixPermissionIsEmpty PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkContextPermissionFailsIfBasePermissionIsEmpty PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > resultNotChangedIfFunctionFilterFeatureIsOff PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkContextPermissionFailsIfBasePermissionIsNull PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > checkStateChangePermissionFailsIfSuffixPermissionIsEmpty PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > resultInvertedIfFunctionFilterFeatureIsOn PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > assertCallCustomCheckIfTenantConfigProvided PASSED

com.icthh.xm.ms.entity.security.access.DynamicPermissionCheckServiceUnitTest > testPermissionFilterPredicate PASSED

com.icthh.xm.ms.entity.security.filter.EntityFunctionPermissionMsNameFilterUnitTest > testFilterPermission PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldFailIfAttachmentSizeBiggerOrEqualsSpecValue PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldPassIfSpecProvided PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > search PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > findAll PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > findById PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > getByIdWithContext PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldSaveForSpecNullValueWithoutValidation PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldFailForMaxCount PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > getById PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldDeleteItem PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > findByIdWithContext PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldFailIfMaxSizeIsZero PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldSaveWithOkCondition PASSED

com.icthh.xm.ms.entity.service.AttachmentServiceImplUnitTest > shouldFailIfSpecNotFound PASSED

com.icthh.xm.ms.entity.service.AvatarServiceUnitTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:26,871 INFO  [Test worker] [HO3IzetY::xm] AvatarServiceUnitTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:27,876 INFO  [Test worker] [HO3IzetY::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:37:28,321 INFO  [Test worker] [HO3IzetY::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:37:28,435 ERROR [Test worker] [HO3IzetY::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:37:28,435 ERROR [Test worker] [HO3IzetY::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.service.AvatarServiceUnitTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.service.AvatarServiceUnitTest STANDARD_OUT
    2021-12-07 09:37:28,691 INFO  [Test worker] [hVODb5Dw::xm] IndexReinitializer: All elasticsearch indexes reset in 31 ms
    2021-12-07 09:37:29,719 INFO  [Test worker] [hVODb5Dw::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@10dadd2d]
    2021-12-07 09:37:29,729 INFO  [Test worker] [hVODb5Dw::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@2dbff559, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@2825fca9]
    2021-12-07 09:37:30,875 INFO  [Test worker] [hVODb5Dw::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:30,884 INFO  [Test worker] [hVODb5Dw::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:37:31,042 INFO  [Test worker] [hVODb5Dw::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:37:32,032 WARN  [Test worker] [hVODb5Dw::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:32,213 WARN  [Test worker] [hVODb5Dw::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:37:32,287 INFO  [Test worker] [hVODb5Dw::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@334f2b and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7ae709ce
    2021-12-07 09:37:32,287 INFO  [Test worker] [hVODb5Dw::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@592431ba and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@51ea5027
    2021-12-07 09:37:32,349 INFO  [Test worker] [hVODb5Dw::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:37:32,349 INFO  [Test worker] [hVODb5Dw::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:37:32,497 WARN  [Test worker] [hVODb5Dw::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:33,836 WARN  [Test worker] [hVODb5Dw::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:37:34,177 INFO  [Test worker] [hVODb5Dw::xm] AvatarServiceUnitTest: Started AvatarServiceUnitTest in 7.846 seconds (JVM running for 90.594)
    2021-12-07 09:37:34,181 WARN  [Test worker] [hVODb5Dw::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.service.AvatarServiceUnitTest > testFindOneInEntityWithAvatarUrl STANDARD_OUT
    2021-12-07 09:37:34,244 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,245 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,262 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,263 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,292 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,293 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,299 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,300 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,308 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,308 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,321 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,321 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,336 INFO  [Test worker] [hVODb5Dw::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:34,336 INFO  [Test worker] [hVODb5Dw::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:34,363 WARN  [elasticsearch[VYOcrgf][masterService#updateTask][T#1]] [] MetaDataCreateIndexService: the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template

com.icthh.xm.ms.entity.service.AvatarServiceUnitTest > testFindOneInEntityWithAvatarUrl PASSED

com.icthh.xm.ms.entity.service.AvatarServiceUnitTest STANDARD_OUT
    2021-12-07 09:37:34,959 INFO  [Test worker] [hVODb5Dw::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.service.CustomMetricsIntTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:35,592 INFO  [Test worker] [hVODb5Dw::xm] CustomMetricsIntTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:36,563 INFO  [Test worker] [hVODb5Dw::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:37:36,968 INFO  [Test worker] [hVODb5Dw::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:37:37,074 ERROR [Test worker] [hVODb5Dw::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:37:37,074 ERROR [Test worker] [hVODb5Dw::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.service.CustomMetricsIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.service.CustomMetricsIntTest STANDARD_OUT
    2021-12-07 09:37:37,340 INFO  [Test worker] [JtWXQXqI::xm] IndexReinitializer: All elasticsearch indexes reset in 45 ms
    2021-12-07 09:37:38,492 INFO  [Test worker] [JtWXQXqI::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@4108ef0d]
    2021-12-07 09:37:38,501 INFO  [Test worker] [JtWXQXqI::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@15ef87b4, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@588a9546]
    2021-12-07 09:37:39,795 INFO  [Test worker] [JtWXQXqI::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:39,842 INFO  [Test worker] [JtWXQXqI::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:37:40,027 INFO  [Test worker] [JtWXQXqI::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:37:41,091 WARN  [Test worker] [JtWXQXqI::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:41,282 WARN  [Test worker] [JtWXQXqI::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:37:41,365 INFO  [Test worker] [JtWXQXqI::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@2e1338ff and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@716361b4
    2021-12-07 09:37:41,365 INFO  [Test worker] [JtWXQXqI::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@761fb40c and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@6c9abaf5
    2021-12-07 09:37:41,464 INFO  [Test worker] [JtWXQXqI::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:37:41,464 INFO  [Test worker] [JtWXQXqI::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:37:41,639 WARN  [Test worker] [JtWXQXqI::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:43,112 WARN  [Test worker] [JtWXQXqI::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:37:43,489 INFO  [Test worker] [JtWXQXqI::xm] CustomMetricsIntTest: Started CustomMetricsIntTest in 8.52 seconds (JVM running for 99.906)
    2021-12-07 09:37:43,492 WARN  [Test worker] [JtWXQXqI::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.service.CustomMetricsIntTest > testCustomMetrics STANDARD_OUT
    2021-12-07 09:37:43,508 INFO  [Test worker] [JtWXQXqI::xm] XmLepScriptConfigServerResourceLoader: LEP script created by config path: /config/tenants/RESINTTEST/entity/lep/metrics/Metric$$my$every$call$metric$$around.groovy
    2021-12-07 09:37:43,508 INFO  [Test worker] [JtWXQXqI::xm] XmLepScriptConfigServerResourceLoader: LEP script created by config path: /config/tenants/RESINTTEST/entity/lep/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:43,511 INFO  [Test worker] [JtWXQXqI::xm] CustomMetricsConfiguration: Metric configuration was updated for tenant [RESINTTEST] by key [/config/tenants/RESINTTEST/entity/metrics.yml]
    2021-12-07 09:37:43,541 INFO  [ThreadPoolTaskScheduler-1] [jKlPbdfg:RESINTTEST] XmLepLoggingExecutorListener: lep:start: execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:43,574 INFO  [ThreadPoolTaskScheduler-1] [jKlPbdfg:RESINTTEST] XmLepLoggingExecutorListener: lep:stop:  execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:45,536 INFO  [ThreadPoolTaskScheduler-1] [LaJjquw8:RESINTTEST] XmLepLoggingExecutorListener: lep:start: execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:45,538 INFO  [ThreadPoolTaskScheduler-1] [LaJjquw8:RESINTTEST] XmLepLoggingExecutorListener: lep:stop:  execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:47,537 INFO  [ThreadPoolTaskScheduler-1] [XdyazKO4:RESINTTEST] XmLepLoggingExecutorListener: lep:start: execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:47,539 INFO  [ThreadPoolTaskScheduler-1] [XdyazKO4:RESINTTEST] XmLepLoggingExecutorListener: lep:stop:  execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$periodic$metric$$around.groovy
    2021-12-07 09:37:47,598 INFO  [Test worker] [JtWXQXqI::xm] CustomMetricsIntTest: result time -> 1969579100
    2021-12-07 09:37:47,603 INFO  [Test worker] [JtWXQXqI::xm] XmLepLoggingExecutorListener: lep:start: execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$every$call$metric$$around.groovy
    2021-12-07 09:37:47,616 INFO  [Test worker] [JtWXQXqI::xm] XmLepLoggingExecutorListener: lep:stop:  execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$every$call$metric$$around.groovy
    2021-12-07 09:37:47,619 INFO  [Test worker] [JtWXQXqI::xm] XmLepLoggingExecutorListener: lep:start: execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$every$call$metric$$around.groovy
    2021-12-07 09:37:47,619 INFO  [Test worker] [JtWXQXqI::xm] XmLepLoggingExecutorListener: lep:stop:  execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$every$call$metric$$around.groovy
    2021-12-07 09:37:47,620 INFO  [Test worker] [JtWXQXqI::xm] XmLepLoggingExecutorListener: lep:start: execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$every$call$metric$$around.groovy
    2021-12-07 09:37:47,620 INFO  [Test worker] [JtWXQXqI::xm] XmLepLoggingExecutorListener: lep:stop:  execute lep at [CustomMetricsService:metricByName], script: lep://RESINTTEST/metrics/Metric$$my$every$call$metric$$around.groovy

com.icthh.xm.ms.entity.service.CustomMetricsIntTest > testCustomMetrics PASSED

com.icthh.xm.ms.entity.service.CustomMetricsIntTest STANDARD_OUT
    2021-12-07 09:37:47,635 INFO  [Test worker] [JtWXQXqI::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:37:48,326 INFO  [Test worker] [JtWXQXqI::xm] ElasticsearchIndexResourceIntTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:37:49,526 ERROR [ThreadPoolTaskScheduler-1] [hRS18l4k:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 1 ms
    2021-12-07 09:37:49,532 ERROR [ThreadPoolTaskScheduler-1] [hRS18l4k:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:37:50,017 INFO  [Test worker] [JtWXQXqI::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:37:50,441 INFO  [Test worker] [JtWXQXqI::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:37:50,578 ERROR [Test worker] [JtWXQXqI::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:37:50,579 ERROR [Test worker] [JtWXQXqI::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest STANDARD_OUT
    2021-12-07 09:37:50,839 INFO  [Test worker] [UWXDFVng::xm] IndexReinitializer: All elasticsearch indexes reset in 24 ms
    2021-12-07 09:37:51,536 ERROR [ThreadPoolTaskScheduler-1] [Xa6Grg5w:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:37:51,536 ERROR [ThreadPoolTaskScheduler-1] [Xa6Grg5w:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:37:51,994 INFO  [Test worker] [UWXDFVng::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@42393454]
    2021-12-07 09:37:52,004 INFO  [Test worker] [UWXDFVng::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@2fb92d78, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@62ab5010]
    2021-12-07 09:37:53,358 INFO  [Test worker] [UWXDFVng::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:37:53,372 INFO  [Test worker] [UWXDFVng::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:37:53,534 ERROR [ThreadPoolTaskScheduler-1] [rs50AJU8:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:37:53,534 ERROR [ThreadPoolTaskScheduler-1] [rs50AJU8:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:37:53,573 INFO  [Test worker] [UWXDFVng::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:37:54,673 WARN  [Test worker] [UWXDFVng::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:54,867 WARN  [Test worker] [UWXDFVng::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:37:54,958 INFO  [Test worker] [UWXDFVng::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@76aae390 and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@7b67064b
    2021-12-07 09:37:54,959 INFO  [Test worker] [UWXDFVng::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@6bbc39bb and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@5e9d83f
    2021-12-07 09:37:55,030 INFO  [Test worker] [UWXDFVng::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:37:55,030 INFO  [Test worker] [UWXDFVng::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:37:55,240 WARN  [Test worker] [UWXDFVng::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:37:55,536 ERROR [ThreadPoolTaskScheduler-1] [SchEXpTA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:37:55,536 ERROR [ThreadPoolTaskScheduler-1] [SchEXpTA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:37:56,772 WARN  [Test worker] [UWXDFVng::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:37:57,132 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexResourceIntTest: Started ElasticsearchIndexResourceIntTest in 9.484 seconds (JVM running for 113.549)
    2021-12-07 09:37:57,135 WARN  [Test worker] [UWXDFVng::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsUpdatesIndexData STANDARD_OUT
    2021-12-07 09:37:57,296 INFO  [Test worker] [UWXDFVng::xm] AbstractSpringBootTest: Elasticsearch index for XmEntity initialized in 105 ms
    2021-12-07 09:37:57,409 INFO  [Test worker] [UWXDFVng::xm] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 79 ms
    2021-12-07 09:37:57,526 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,527 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,534 ERROR [ThreadPoolTaskScheduler-1] [KeEHmGRo:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:37:57,534 ERROR [ThreadPoolTaskScheduler-1] [KeEHmGRo:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:37:57,537 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,538 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,548 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,549 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,555 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,555 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,577 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,578 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,586 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,587 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,599 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,599 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,614 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,614 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,627 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,628 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,636 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,637 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,642 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,643 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,649 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,650 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,655 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,656 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,662 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:57,663 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:57,684 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:37:57,873 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 315 ms
    2021-12-07 09:37:58,260 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,261 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,270 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,270 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,277 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,278 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,284 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,284 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,291 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,291 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,296 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,296 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,304 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,304 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,308 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:37:58,437 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 165 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsUpdatesIndexData PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKey STANDARD_OUT
    2021-12-07 09:37:58,478 INFO  [Test worker] [UWXDFVng::xm] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 21 ms
    2021-12-07 09:37:58,504 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,504 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,509 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,510 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,517 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,517 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,523 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,524 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,535 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,536 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,543 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,543 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,551 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,552 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,558 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,559 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,565 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,565 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,571 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,572 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,599 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,600 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,606 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,606 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,612 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,612 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,617 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,617 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,624 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,624 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,631 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,632 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,642 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,643 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,648 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,648 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,653 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,653 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,658 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,659 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,665 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,665 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,670 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:37:58,774 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 229 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKey PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIds STANDARD_OUT
    2021-12-07 09:37:58,801 INFO  [Test worker] [UWXDFVng::xm] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 7 ms
    2021-12-07 09:37:58,825 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,827 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,831 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,832 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,839 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,839 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,843 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,844 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,850 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,851 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,855 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,856 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,863 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,864 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,868 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,868 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,872 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,872 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,876 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,877 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,881 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,882 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,886 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,887 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,894 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,894 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,898 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,899 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,903 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,903 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,908 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,908 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,913 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,914 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,919 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,919 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,924 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,925 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,929 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,930 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,935 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:58,936 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:58,940 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:37:59,043 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 185 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIds PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKeyAsyncNonNull STANDARD_OUT
    2021-12-07 09:37:59,071 INFO  [Test worker] [UWXDFVng::xm] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 6 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKeyAsyncNonNull PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKeyAsync STANDARD_OUT
    2021-12-07 09:37:59,095 INFO  [Test worker] [UWXDFVng::xm] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 1 ms
    2021-12-07 09:37:59,116 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,116 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,121 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,122 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,129 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,130 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,171 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,172 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,179 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,180 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,184 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,185 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,196 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,196 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,201 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,201 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,205 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,206 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,210 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,211 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,217 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,217 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,223 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,224 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,229 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,229 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,234 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,234 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,238 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,238 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,243 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,244 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,249 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,249 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,253 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,254 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,261 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,261 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,266 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,266 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,271 INFO  [Test worker] [UWXDFVng::xm] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,272 INFO  [Test worker] [UWXDFVng::xm] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,277 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:37:59,386 INFO  [Test worker] [UWXDFVng::xm] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 198 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKeyAsync PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > reindexComplexEntity STANDARD_OUT
    2021-12-07 09:37:59,412 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 6 ms
    2021-12-07 09:37:59,435 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,436 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,439 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,442 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,449 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,449 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,453 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,454 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,458 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,458 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,463 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,463 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,468 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,468 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,479 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,479 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,492 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,492 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,500 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,501 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,530 ERROR [ThreadPoolTaskScheduler-1] [bNjeMGuI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:37:59,530 ERROR [ThreadPoolTaskScheduler-1] [bNjeMGuI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:37:59,639 INFO  [Test worker] [uU6CcRrM] ElasticsearchIndexService: elasticsearch index was recreated for XmEntity in 134 ms
    2021-12-07 09:37:59,643 INFO  [Test worker] [uU6CcRrM] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:37:59,790 INFO  [Test worker] [uU6CcRrM] ElasticsearchIndexService: Elasticsearch: Indexed [1] rows for XmEntity in 150 ms
    2021-12-07 09:37:59,790 INFO  [Test worker] [uU6CcRrM] ElasticsearchIndexService: Elasticsearch: Successfully performed full reindexing

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > reindexComplexEntity FAILED
    java.lang.AssertionError: JSON path "$.[0].startDate"
    Expected: a String representing the same Instant as <2021-12-07T07:37:59.431311200Z>
         but: was "2021-12-07T07:37:59.431311Z"
        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:73)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)
        at com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest.reindexComplexEntity(ElasticsearchIndexResourceIntTest.java:245)

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsDoNotDeletesExistingIndex STANDARD_OUT
    2021-12-07 09:37:59,852 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 6 ms
    2021-12-07 09:37:59,880 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,880 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,885 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,885 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,893 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,893 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,898 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,899 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,906 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,906 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,911 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,911 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,919 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,920 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,924 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,925 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,932 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,932 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,940 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,940 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,945 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,946 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,952 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,952 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,956 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,957 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,961 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,961 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,965 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,966 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,971 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,971 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,976 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,977 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,981 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,981 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,986 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,986 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,990 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,991 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:37:59,998 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:37:59,999 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,004 INFO  [Test worker] [] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:38:00,115 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 202 ms
    2021-12-07 09:38:00,125 INFO  [Test worker] [] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:38:00,225 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Indexed [1] rows for XmEntity in 103 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsDoNotDeletesExistingIndex PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterDeleteDisabled STANDARD_OUT
    2021-12-07 09:38:00,260 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 7 ms
    2021-12-07 09:38:00,280 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,281 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,285 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,286 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,297 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,298 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,303 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,303 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,309 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,310 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,314 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,315 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,323 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,323 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,491 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,491 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterDeleteDisabled PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKeyNonNull STANDARD_OUT
    2021-12-07 09:38:00,535 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 5 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByTypeKeyNonNull PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexAll STANDARD_OUT
    2021-12-07 09:38:00,566 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 1 ms
    2021-12-07 09:38:00,593 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,593 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,597 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,598 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,605 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,605 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,609 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,609 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,616 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,616 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,620 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,621 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,740 INFO  [Test worker] [] ElasticsearchIndexService: elasticsearch index was recreated for XmEntity in 118 ms
    2021-12-07 09:38:00,745 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,746 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,752 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,752 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,756 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,757 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,760 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,761 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,765 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,766 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,770 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,771 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,774 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,775 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,778 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,779 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,782 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,783 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,787 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,787 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,792 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,792 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,795 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,796 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,799 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,800 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,807 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,807 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,812 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,813 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,817 INFO  [Test worker] [] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:38:00,933 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Indexed [3] rows for XmEntity in 192 ms
    2021-12-07 09:38:00,933 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Successfully performed full reindexing
    2021-12-07 09:38:00,959 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,960 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,965 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,965 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,972 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,973 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:00,978 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:00,978 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,123 INFO  [Test worker] [] ElasticsearchIndexService: elasticsearch index was recreated for XmEntity in 143 ms
    2021-12-07 09:38:01,128 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,128 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,132 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,132 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,136 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,136 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,141 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,141 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,146 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,146 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,151 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,152 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,155 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,156 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,160 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,160 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,164 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,165 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,172 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,172 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,176 INFO  [Test worker] [] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:38:01,292 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 169 ms
    2021-12-07 09:38:01,292 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Successfully performed full reindexing

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexAll PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterSaveEnabled STANDARD_OUT
    2021-12-07 09:38:01,319 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 5 ms
    2021-12-07 09:38:01,335 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,336 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,339 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,339 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,347 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,347 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,350 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,350 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,355 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,355 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,361 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,361 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,366 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,366 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterSaveEnabled PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsNonNull STANDARD_OUT
    2021-12-07 09:38:01,482 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 5 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsNonNull PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > reindex STANDARD_OUT
    2021-12-07 09:38:01,510 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 1 ms
    2021-12-07 09:38:01,531 ERROR [ThreadPoolTaskScheduler-1] [XzoVabWk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:01,531 ERROR [ThreadPoolTaskScheduler-1] [XzoVabWk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:01,660 INFO  [Test worker] [N3yBexIs] ElasticsearchIndexService: elasticsearch index was recreated for XmEntity in 139 ms
    2021-12-07 09:38:01,664 INFO  [Test worker] [N3yBexIs] ElasticsearchIndexService: Elasticsearch: Indexed [0] rows for XmEntity in 3 ms
    2021-12-07 09:38:01,664 INFO  [Test worker] [N3yBexIs] ElasticsearchIndexService: Elasticsearch: Successfully performed full reindexing

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > reindex PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsAsyncNonNull STANDARD_OUT
    2021-12-07 09:38:01,684 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 1 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsAsyncNonNull PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsAsync STANDARD_OUT
    2021-12-07 09:38:01,715 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 1 ms
    2021-12-07 09:38:01,734 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,735 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,739 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,739 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,745 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,746 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,750 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,751 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,757 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,758 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,762 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,763 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,771 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,771 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,779 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,779 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,786 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,786 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,791 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,791 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,797 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,797 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,802 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,803 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,807 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,808 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,812 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,813 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,817 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,817 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,826 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,827 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,832 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,832 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,838 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,838 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,843 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,844 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,848 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,850 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,858 INFO  [Test worker] [Ks9WuGFg] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:01,858 INFO  [Test worker] [Ks9WuGFg] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:01,863 INFO  [Test worker] [Ks9WuGFg] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:38:01,978 INFO  [Test worker] [Ks9WuGFg] ElasticsearchIndexService: Elasticsearch: Indexed [2] rows for XmEntity in 213 ms

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > testReindexByIdsAsync PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterDeleteEnabled STANDARD_OUT
    2021-12-07 09:38:02,008 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 6 ms
    2021-12-07 09:38:02,027 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,027 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,031 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,032 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,040 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,041 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,045 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,046 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,051 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,051 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,059 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,059 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,065 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,065 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,205 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,205 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterDeleteEnabled PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterSaveDisabled STANDARD_OUT
    2021-12-07 09:38:02,245 INFO  [Test worker] [] AbstractSpringBootTest: Elasticsearch index for XmEntity cleaned in 1 ms
    2021-12-07 09:38:02,262 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,262 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,266 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,267 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,276 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,277 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,281 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,281 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,288 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,288 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,292 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,292 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml
    2021-12-07 09:38:02,297 INFO  [Test worker] [] EntityCustomPrivilegeService: Get config from /config/tenants/RESINTTEST/custom-privileges.yml
    2021-12-07 09:38:02,298 INFO  [Test worker] [] XmEntitySpecService: Specification was for tenant RESINTTEST updated from file /config/tenants/RESINTTEST/entity/specs/xmentityspecs.yml

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest > autoIndexAfterSaveDisabled PASSED

com.icthh.xm.ms.entity.service.ElasticsearchIndexResourceIntTest STANDARD_OUT
    2021-12-07 09:38:02,320 INFO  [Test worker] [] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.service.ElasticsearchIndexServiceUnitTest > reindexAll STANDARD_OUT
    2021-12-07 09:38:02,431 INFO  [Test worker] [] ElasticsearchIndexService: elasticsearch index was recreated for XmEntity in 0 ms
    2021-12-07 09:38:02,432 INFO  [Test worker] [] ElasticsearchIndexService: Indexing page 0 of 0, pageSize 100
    2021-12-07 09:38:02,432 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Indexed [1] rows for XmEntity in 0 ms
    2021-12-07 09:38:02,432 INFO  [Test worker] [] ElasticsearchIndexService: Elasticsearch: Successfully performed full reindexing

com.icthh.xm.ms.entity.service.ElasticsearchIndexServiceUnitTest > reindexAll PASSED

com.icthh.xm.ms.entity.service.EventQueryServiceIntTest STANDARD_OUT

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:38:03,044 INFO  [Test worker] [] EventQueryServiceIntTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:38:03,528 ERROR [ThreadPoolTaskScheduler-1] [3651rsnE:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:03,530 ERROR [ThreadPoolTaskScheduler-1] [3651rsnE:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:04,054 INFO  [Test worker] [] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:38:04,487 INFO  [Test worker] [] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:38:04,605 ERROR [Test worker] [] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:38:04,606 ERROR [Test worker] [] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute

com.icthh.xm.ms.entity.service.EventQueryServiceIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.service.EventQueryServiceIntTest STANDARD_OUT
    2021-12-07 09:38:04,916 INFO  [Test worker] [6vQz27Mk::xm] IndexReinitializer: All elasticsearch indexes reset in 43 ms
    2021-12-07 09:38:05,533 ERROR [ThreadPoolTaskScheduler-1] [ZaFmLo2Y:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 7 ms
    2021-12-07 09:38:05,533 ERROR [ThreadPoolTaskScheduler-1] [ZaFmLo2Y:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:06,349 INFO  [Test worker] [6vQz27Mk::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@44a2c064]
    2021-12-07 09:38:06,359 INFO  [Test worker] [6vQz27Mk::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@60ba3a6b, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@5d2b3ddc]
    2021-12-07 09:38:07,739 ERROR [ThreadPoolTaskScheduler-1] [ABTrFBlk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:07,740 ERROR [ThreadPoolTaskScheduler-1] [ABTrFBlk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:07,895 INFO  [Test worker] [6vQz27Mk::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:38:07,909 INFO  [Test worker] [6vQz27Mk::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:38:08,092 INFO  [Test worker] [6vQz27Mk::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:38:09,135 WARN  [Test worker] [6vQz27Mk::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:38:09,358 WARN  [Test worker] [6vQz27Mk::xm] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
    2021-12-07 09:38:09,437 INFO  [Test worker] [6vQz27Mk::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3d89fadf and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@2c0cbb84
    2021-12-07 09:38:09,437 INFO  [Test worker] [6vQz27Mk::xm] JacksonConfiguration: Init Squiggly filter for message converter: org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@6217ab0f and objectMapper: com.fasterxml.jackson.databind.ObjectMapper@67a51dd1
    2021-12-07 09:38:09,735 ERROR [ThreadPoolTaskScheduler-1] [S4d5QCnY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:09,735 ERROR [ThreadPoolTaskScheduler-1] [S4d5QCnY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:09,757 INFO  [Test worker] [6vQz27Mk::xm] WebMvcConfiguration: Added handler interceptor 'LepInterceptor' to all urls
    2021-12-07 09:38:09,757 INFO  [Test worker] [6vQz27Mk::xm] WebMvcConfiguration: Added handler interceptor 'XmSquigglyInterceptor' to urls: [/api/xm-entities/*/links/targets]
    2021-12-07 09:38:09,931 WARN  [Test worker] [6vQz27Mk::xm] TemplateMode: [THYMELEAF][Test worker] Template Mode 'XHTML' is deprecated. Using Template Mode 'HTML' instead.
    2021-12-07 09:38:11,539 ERROR [ThreadPoolTaskScheduler-1] [3qwiY6SA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:11,539 ERROR [ThreadPoolTaskScheduler-1] [3qwiY6SA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:11,883 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][99] overhead, spent [708ms] collecting in the last [1s]
    2021-12-07 09:38:12,974 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][100] overhead, spent [890ms] collecting in the last [1s]
    2021-12-07 09:38:13,723 ERROR [ThreadPoolTaskScheduler-1] [P092D6OM:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:13,723 ERROR [ThreadPoolTaskScheduler-1] [P092D6OM:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:13,979 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][101] overhead, spent [853ms] collecting in the last [1s]
    2021-12-07 09:38:15,155 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][102] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:15,640 ERROR [ThreadPoolTaskScheduler-1] [GnVpGvEo:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:15,640 ERROR [ThreadPoolTaskScheduler-1] [GnVpGvEo:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:15,911 WARN  [Test worker] [6vQz27Mk::xm] CoreAutoConfiguration: This module is deprecated. It will be removed in the next major release. Please use spring-cloud-netflix-hystrix instead.
    2021-12-07 09:38:16,167 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][103] overhead, spent [875ms] collecting in the last [1s]
    2021-12-07 09:38:17,337 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][104] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:17,595 ERROR [ThreadPoolTaskScheduler-1] [Iu0Sa91M:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:17,595 ERROR [ThreadPoolTaskScheduler-1] [Iu0Sa91M:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:18,415 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][105] overhead, spent [936ms] collecting in the last [1s]
    2021-12-07 09:38:18,470 INFO  [Test worker] [6vQz27Mk::xm] EventQueryServiceIntTest: Started EventQueryServiceIntTest in 16.03 seconds (JVM running for 134.887)
    2021-12-07 09:38:18,474 WARN  [Test worker] [6vQz27Mk::xm] ApplicationStartup: WARNING! Privileges inspection is disabled by configuration parameter 'application.kafka-enabled'

com.icthh.xm.ms.entity.service.EventQueryServiceIntTest > findAllTest PASSED

com.icthh.xm.ms.entity.service.EventQueryServiceIntTest STANDARD_OUT
    2021-12-07 09:38:18,563 INFO  [Test worker] [6vQz27Mk::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------

com.icthh.xm.ms.entity.service.impl.AttachmentServiceIntTest STANDARD_OUT
    2021-12-07 09:38:19,440 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][106] overhead, spent [717ms] collecting in the last [1s]

     Y88b   d88P 888b     d888    o                     888 d8b
      Y88b d88P  8888b   d8888   d8b                    888 Y8P
       Y88o88P   88888b.d88888  d888b                   888
        Y888P    888Y88888P888 d8P"Y8b .d88b.  88888b.  888 888 88888b.   .d88b.
        d888b    888 Y888P 888        d88""88b 888 "88b 888 888 888 "88b d8P  Y8b
       d88888b   888  Y8P  888        888  888 888  888 888 888 888  888 88888888
      d88P Y88b  888   "   888        Y88..88P 888  888 888 888 888  888 Y8b.
     d88P   Y88b 888       888         "Y88P"  888  888 888 888 888  888  "Y8888

    :: XM^online  :: Running version  :: Running Spring Boot 2.1.10.RELEASE :: https://xm.icthh.com ::

    2021-12-07 09:38:19,850 INFO  [Test worker] [6vQz27Mk::xm] AttachmentServiceIntTest: No active profile set, falling back to default profiles: default
    2021-12-07 09:38:21,524 ERROR [ThreadPoolTaskScheduler-1] [RIt5xkIo:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:21,524 ERROR [ThreadPoolTaskScheduler-1] [RIt5xkIo:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:21,800 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][108] overhead, spent [943ms] collecting in the last [1.2s]
    2021-12-07 09:38:22,945 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][109] overhead, spent [928ms] collecting in the last [1.1s]
    2021-12-07 09:38:23,537 ERROR [ThreadPoolTaskScheduler-1] [QuOnykd0:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:23,537 ERROR [ThreadPoolTaskScheduler-1] [QuOnykd0:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:24,090 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][110] overhead, spent [985ms] collecting in the last [1.1s]
    2021-12-07 09:38:24,965 INFO  [Test worker] [6vQz27Mk::xm] DatabaseConfiguration: Configuring Liquibase
    2021-12-07 09:38:25,215 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][111] overhead, spent [967ms] collecting in the last [1.1s]
    2021-12-07 09:38:25,722 ERROR [ThreadPoolTaskScheduler-1] [k0lgkNAU:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:25,722 ERROR [ThreadPoolTaskScheduler-1] [k0lgkNAU:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:26,251 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][112] overhead, spent [936ms] collecting in the last [1s]
    2021-12-07 09:38:27,433 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][113] overhead, spent [990ms] collecting in the last [1.1s]
    2021-12-07 09:38:27,772 ERROR [ThreadPoolTaskScheduler-1] [dwgxCMxA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:27,772 ERROR [ThreadPoolTaskScheduler-1] [dwgxCMxA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:27,807 INFO  [Test worker] [6vQz27Mk::xm] JsonbTypeRegistrator: Run on org.hibernate.dialect.H2Dialect dialect. Metadata will not be processed
    2021-12-07 09:38:28,157 ERROR [Test worker] [6vQz27Mk::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.XmEntity_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:38:28,158 ERROR [Test worker] [6vQz27Mk::xm] MetadataContext: HHH015007: Illegal argument on static metamodel field injection : com.icthh.xm.ms.entity.domain.FunctionContext_#data; expected type :  org.hibernate.metamodel.internal.SingularAttributeImpl; encountered type : javax.persistence.metamodel.MapAttribute
    2021-12-07 09:38:28,447 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][114] overhead, spent [772ms] collecting in the last [1s]

com.icthh.xm.ms.entity.service.impl.AttachmentServiceIntTest STANDARD_ERROR
     ===================== SecurityBeanOverrideConfiguration inited !!! =======================

com.icthh.xm.ms.entity.service.impl.AttachmentServiceIntTest STANDARD_OUT
    2021-12-07 09:38:29,596 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][115] overhead, spent [951ms] collecting in the last [1.1s]
    2021-12-07 09:38:29,596 ERROR [ThreadPoolTaskScheduler-1] [v6cwlGD0:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:29,596 ERROR [ThreadPoolTaskScheduler-1] [v6cwlGD0:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:29,895 INFO  [Test worker] [FJywRFyw::xm] IndexReinitializer: All elasticsearch indexes reset in 21 ms
    2021-12-07 09:38:30,650 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][116] overhead, spent [877ms] collecting in the last [1s]
    2021-12-07 09:38:31,724 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][117] overhead, spent [970ms] collecting in the last [1s]
    2021-12-07 09:38:31,724 ERROR [ThreadPoolTaskScheduler-1] [PcdyZeig:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:31,724 ERROR [ThreadPoolTaskScheduler-1] [PcdyZeig:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:32,805 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][118] overhead, spent [984ms] collecting in the last [1s]
    2021-12-07 09:38:33,612 ERROR [ThreadPoolTaskScheduler-1] [VXIV3x0Q:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:33,612 ERROR [ThreadPoolTaskScheduler-1] [VXIV3x0Q:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:33,892 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][119] overhead, spent [983ms] collecting in the last [1s]
    2021-12-07 09:38:34,941 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][120] overhead, spent [934ms] collecting in the last [1s]
    2021-12-07 09:38:35,726 ERROR [ThreadPoolTaskScheduler-1] [NL3We0eY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:35,726 ERROR [ThreadPoolTaskScheduler-1] [NL3We0eY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:35,968 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][121] overhead, spent [948ms] collecting in the last [1s]
    2021-12-07 09:38:37,192 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][122] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:38:37,693 ERROR [ThreadPoolTaskScheduler-1] [TSnFn83s:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:37,693 ERROR [ThreadPoolTaskScheduler-1] [TSnFn83s:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:38,370 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][123] overhead, spent [923ms] collecting in the last [1.1s]
    2021-12-07 09:38:39,605 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][124] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:38:39,606 ERROR [ThreadPoolTaskScheduler-1] [c4xqG7Rw:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:39,606 ERROR [ThreadPoolTaskScheduler-1] [c4xqG7Rw:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:40,636 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][125] overhead, spent [966ms] collecting in the last [1s]
    2021-12-07 09:38:41,008 INFO  [Test worker] [FJywRFyw::xm] ProfileElasticSearchListener: Initializing XmEntity for Listener [org.springframework.data.elasticsearch.repository.support.NumberKeyedRepository@e0dc574]
    2021-12-07 09:38:41,290 INFO  [Test worker] [FJywRFyw::xm] XmEntityElasticSearchListener: Initializing Listener for XmEntity [com.icthh.xm.ms.entity.config.LepConfiguration$1@144f23c9, com.icthh.xm.ms.entity.config.tenant.LocalXmEntitySpecService@6c22263d]
    2021-12-07 09:38:41,577 ERROR [ThreadPoolTaskScheduler-1] [xXahBkMQ:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:41,577 ERROR [ThreadPoolTaskScheduler-1] [xXahBkMQ:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:41,825 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][126] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:43,009 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][127] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:38:43,712 ERROR [ThreadPoolTaskScheduler-1] [hfpFcy30:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:43,713 ERROR [ThreadPoolTaskScheduler-1] [hfpFcy30:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:44,194 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][128] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:38:45,322 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][129] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:45,588 ERROR [ThreadPoolTaskScheduler-1] [wlFYkJnw:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:45,588 ERROR [ThreadPoolTaskScheduler-1] [wlFYkJnw:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:46,399 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][130] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:38:47,637 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][131] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:38:47,637 ERROR [ThreadPoolTaskScheduler-1] [SLnB8ttc:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:47,637 ERROR [ThreadPoolTaskScheduler-1] [SLnB8ttc:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:48,728 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][132] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:38:49,526 ERROR [ThreadPoolTaskScheduler-1] [gHrAP1BE:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:49,526 ERROR [ThreadPoolTaskScheduler-1] [gHrAP1BE:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:49,747 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][133] overhead, spent [975ms] collecting in the last [1s]
    2021-12-07 09:38:50,915 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][134] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:38:51,590 ERROR [ThreadPoolTaskScheduler-1] [RyY9oOEU:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:51,590 ERROR [ThreadPoolTaskScheduler-1] [RyY9oOEU:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:52,048 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][135] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:53,178 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][136] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:38:53,673 ERROR [ThreadPoolTaskScheduler-1] [CaNWHjck:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:53,673 ERROR [ThreadPoolTaskScheduler-1] [CaNWHjck:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:54,309 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][137] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:55,424 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][138] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:55,645 ERROR [ThreadPoolTaskScheduler-1] [4cIsBFy4:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:55,645 ERROR [ThreadPoolTaskScheduler-1] [4cIsBFy4:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:56,513 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][139] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:38:57,627 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][140] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:38:57,627 ERROR [ThreadPoolTaskScheduler-1] [YlARHV1s:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:57,627 ERROR [ThreadPoolTaskScheduler-1] [YlARHV1s:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:58,771 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][141] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:38:59,692 ERROR [ThreadPoolTaskScheduler-1] [KBNAKqEU:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:38:59,693 ERROR [ThreadPoolTaskScheduler-1] [KBNAKqEU:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:38:59,916 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][142] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:01,088 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][143] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:01,533 ERROR [ThreadPoolTaskScheduler-1] [mQkS8rmQ:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:01,533 ERROR [ThreadPoolTaskScheduler-1] [mQkS8rmQ:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:02,231 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][144] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:03,374 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][145] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:03,598 ERROR [ThreadPoolTaskScheduler-1] [AZ1avlyA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:03,598 ERROR [ThreadPoolTaskScheduler-1] [AZ1avlyA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:04,488 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][146] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:05,581 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][147] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:05,581 ERROR [ThreadPoolTaskScheduler-1] [AmPLX9sI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:05,581 ERROR [ThreadPoolTaskScheduler-1] [AmPLX9sI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:06,710 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][148] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:07,582 ERROR [ThreadPoolTaskScheduler-1] [71cXGVMA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:07,582 ERROR [ThreadPoolTaskScheduler-1] [71cXGVMA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:07,821 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][149] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:08,940 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][150] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:09,585 ERROR [ThreadPoolTaskScheduler-1] [b7dvu2Cs:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:09,585 ERROR [ThreadPoolTaskScheduler-1] [b7dvu2Cs:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:10,035 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][151] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:11,157 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][152] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:11,604 ERROR [ThreadPoolTaskScheduler-1] [pFIRtfRs:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:11,604 ERROR [ThreadPoolTaskScheduler-1] [pFIRtfRs:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:12,272 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][153] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:13,359 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][154] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:13,572 ERROR [ThreadPoolTaskScheduler-1] [KIfAjDyQ:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:13,572 ERROR [ThreadPoolTaskScheduler-1] [KIfAjDyQ:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:14,513 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][155] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:15,623 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][156] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:15,624 ERROR [ThreadPoolTaskScheduler-1] [zkP5epqY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:15,624 ERROR [ThreadPoolTaskScheduler-1] [zkP5epqY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:16,755 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][157] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:17,655 ERROR [ThreadPoolTaskScheduler-1] [ypnHwU14:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:17,655 ERROR [ThreadPoolTaskScheduler-1] [ypnHwU14:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:17,876 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][158] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:18,570 INFO  [Test worker] [FJywRFyw::xm] TenantManagerConfiguration: Configured tenant config provisioner: TenantConfigProvisioner { configurations = [/config/tenants/{tenantName}/entity/xmentityspec.yml, /config/tenants/{tenantName}/webapp/settings-public.yml, /config/tenants/{tenantName}/tenant-config.yml]}
    2021-12-07 09:39:19,012 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][159] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:19,018 INFO  [Test worker] [FJywRFyw::xm] TenantManagerConfiguration: Configured tenant manager: TenantManager { services= [TenantAbilityCheckerProvisioner$$EnhancerBySpringCGLIB$$487c785c, TenantListProvisioner$$EnhancerBySpringCGLIB$$6a546043, TenantDatabaseProvisioner$$EnhancerBySpringCGLIB$$a0328b09, TenantConfigProvisioner$$EnhancerBySpringCGLIB$$c704e797, TenantElasticsearchProvisioner$$EnhancerBySpringCGLIB$$72e9a08d, TenantDefaultUserProfileProvisioner$$EnhancerBySpringCGLIB$$928cc349]}
    2021-12-07 09:39:19,709 ERROR [ThreadPoolTaskScheduler-1] [8nMhPFdk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:19,709 ERROR [ThreadPoolTaskScheduler-1] [8nMhPFdk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:20,175 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][160] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:21,256 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][161] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:21,684 ERROR [ThreadPoolTaskScheduler-1] [CVsOnniA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:21,684 ERROR [ThreadPoolTaskScheduler-1] [CVsOnniA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:22,339 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][162] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:23,538 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][163] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:23,538 ERROR [ThreadPoolTaskScheduler-1] [K3xvSZLA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:23,538 ERROR [ThreadPoolTaskScheduler-1] [K3xvSZLA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:24,642 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][164] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:25,609 ERROR [ThreadPoolTaskScheduler-1] [c2dSeTBg:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:25,609 ERROR [ThreadPoolTaskScheduler-1] [c2dSeTBg:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:25,867 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][165] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:39:27,064 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][166] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:27,603 ERROR [ThreadPoolTaskScheduler-1] [SEiNyvdU:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:27,604 ERROR [ThreadPoolTaskScheduler-1] [SEiNyvdU:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:28,136 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][167] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:29,424 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][168] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:39:29,745 ERROR [ThreadPoolTaskScheduler-1] [MENVV9OA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:29,745 ERROR [ThreadPoolTaskScheduler-1] [MENVV9OA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:30,695 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][169] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:39:31,718 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][170] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:31,718 ERROR [ThreadPoolTaskScheduler-1] [wrdyCKmo:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:31,718 ERROR [ThreadPoolTaskScheduler-1] [wrdyCKmo:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:31,725 INFO  [Test worker] [FJywRFyw::xm] DatabaseConfiguration: Configuring multi-tenant Liquibase for [4] schemas
    2021-12-07 09:39:32,953 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][171] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:39:33,824 ERROR [ThreadPoolTaskScheduler-1] [YthQTsTI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:33,824 ERROR [ThreadPoolTaskScheduler-1] [YthQTsTI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:34,115 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][172] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:35,343 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][173] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:39:35,654 ERROR [ThreadPoolTaskScheduler-1] [mnXOcs8M:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:35,655 ERROR [ThreadPoolTaskScheduler-1] [mnXOcs8M:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:36,394 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][174] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:37,583 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][175] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:37,584 ERROR [ThreadPoolTaskScheduler-1] [S1P3ybpc:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:37,584 ERROR [ThreadPoolTaskScheduler-1] [S1P3ybpc:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:38,754 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][176] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:39,625 ERROR [ThreadPoolTaskScheduler-1] [9Ez57TDs:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:39,625 ERROR [ThreadPoolTaskScheduler-1] [9Ez57TDs:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:39,840 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][177] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:40,965 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][178] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:41,648 ERROR [ThreadPoolTaskScheduler-1] [03ngBhEk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:41,648 ERROR [ThreadPoolTaskScheduler-1] [03ngBhEk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:42,091 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][179] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:43,202 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][180] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:43,645 ERROR [ThreadPoolTaskScheduler-1] [EDCyYdmk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:43,645 ERROR [ThreadPoolTaskScheduler-1] [EDCyYdmk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:44,318 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][181] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:45,427 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][182] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:45,650 ERROR [ThreadPoolTaskScheduler-1] [VfGpJKbE:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:45,651 ERROR [ThreadPoolTaskScheduler-1] [VfGpJKbE:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:46,553 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][183] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:47,674 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][184] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:47,675 ERROR [ThreadPoolTaskScheduler-1] [V2BxS4q4:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:47,675 ERROR [ThreadPoolTaskScheduler-1] [V2BxS4q4:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:48,803 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][185] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:49,939 ERROR [ThreadPoolTaskScheduler-1] [cVFsSgso:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 213 ms
    2021-12-07 09:39:49,939 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][186] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:50,158 ERROR [ThreadPoolTaskScheduler-1] [cVFsSgso:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:51,267 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][187] overhead, spent [1.3s] collecting in the last [1.3s]
    2021-12-07 09:39:51,702 ERROR [ThreadPoolTaskScheduler-1] [aFsG2py8:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:51,702 ERROR [ThreadPoolTaskScheduler-1] [aFsG2py8:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:52,384 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][188] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:53,496 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][189] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:53,714 ERROR [ThreadPoolTaskScheduler-1] [vLrFNHik:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:53,714 ERROR [ThreadPoolTaskScheduler-1] [vLrFNHik:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:54,625 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][190] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:55,745 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][191] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:55,746 ERROR [ThreadPoolTaskScheduler-1] [SaHo7B1Q:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:55,746 ERROR [ThreadPoolTaskScheduler-1] [SaHo7B1Q:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:56,871 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][192] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:39:57,527 ERROR [ThreadPoolTaskScheduler-1] [Tbm3HNBE:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:57,527 ERROR [ThreadPoolTaskScheduler-1] [Tbm3HNBE:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:39:57,972 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][193] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:39:59,089 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][194] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:39:59,534 ERROR [ThreadPoolTaskScheduler-1] [k1oVT8Ck:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:39:59,534 ERROR [ThreadPoolTaskScheduler-1] [k1oVT8Ck:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:00,236 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][195] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:01,373 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][196] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:01,596 ERROR [ThreadPoolTaskScheduler-1] [vHPQayGY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:01,596 ERROR [ThreadPoolTaskScheduler-1] [vHPQayGY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:02,473 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][197] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:40:03,657 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][198] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:03,657 ERROR [ThreadPoolTaskScheduler-1] [8XBlFkgI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:03,657 ERROR [ThreadPoolTaskScheduler-1] [8XBlFkgI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:04,711 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][199] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:05,715 ERROR [ThreadPoolTaskScheduler-1] [vEi4oZO4:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:05,715 ERROR [ThreadPoolTaskScheduler-1] [vEi4oZO4:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:05,962 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][200] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:40:07,133 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][201] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:07,579 ERROR [ThreadPoolTaskScheduler-1] [kWhP90i4:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:07,579 ERROR [ThreadPoolTaskScheduler-1] [kWhP90i4:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:08,464 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][202] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:40:09,789 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][203] overhead, spent [1.5s] collecting in the last [1.3s]
    2021-12-07 09:40:09,789 ERROR [ThreadPoolTaskScheduler-1] [OUMKia8o:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 218 ms
    2021-12-07 09:40:10,000 ERROR [ThreadPoolTaskScheduler-1] [OUMKia8o:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:10,892 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][204] overhead, spent [1s] collecting in the last [1.3s]
    2021-12-07 09:40:11,850 ERROR [ThreadPoolTaskScheduler-1] [MfR7sUII:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:11,851 ERROR [ThreadPoolTaskScheduler-1] [MfR7sUII:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:12,077 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][205] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:13,211 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][206] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:13,688 ERROR [ThreadPoolTaskScheduler-1] [7bOC12vk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:13,688 ERROR [ThreadPoolTaskScheduler-1] [7bOC12vk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:14,430 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][207] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:40:15,500 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][208] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:15,743 ERROR [ThreadPoolTaskScheduler-1] [7x2uajfA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:15,743 ERROR [ThreadPoolTaskScheduler-1] [7x2uajfA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:16,785 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][209] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:40:17,722 ERROR [ThreadPoolTaskScheduler-1] [NSwJOsGY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:17,722 ERROR [ThreadPoolTaskScheduler-1] [NSwJOsGY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:17,947 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][210] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:19,160 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][211] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:40:19,671 ERROR [ThreadPoolTaskScheduler-1] [n6eERJ9c:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:19,671 ERROR [ThreadPoolTaskScheduler-1] [n6eERJ9c:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:20,179 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][212] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:21,409 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][213] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:40:21,659 ERROR [ThreadPoolTaskScheduler-1] [asP1N5yQ:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:21,659 ERROR [ThreadPoolTaskScheduler-1] [asP1N5yQ:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:22,646 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][214] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:40:23,628 ERROR [ThreadPoolTaskScheduler-1] [JJPkWR30:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:23,629 ERROR [ThreadPoolTaskScheduler-1] [JJPkWR30:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:23,875 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][215] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:40:24,888 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][216] overhead, spent [991ms] collecting in the last [1s]
    2021-12-07 09:40:25,604 ERROR [ThreadPoolTaskScheduler-1] [DjXZQnHI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:25,604 ERROR [ThreadPoolTaskScheduler-1] [DjXZQnHI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:26,102 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][217] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:40:27,139 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][218] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:27,644 ERROR [ThreadPoolTaskScheduler-1] [le3afkwc:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:27,644 ERROR [ThreadPoolTaskScheduler-1] [le3afkwc:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:28,167 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][219] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:29,238 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][220] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:29,735 ERROR [ThreadPoolTaskScheduler-1] [FmqF6zeI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:29,736 ERROR [ThreadPoolTaskScheduler-1] [FmqF6zeI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:30,430 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][221] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:31,632 ERROR [ThreadPoolTaskScheduler-1] [LAAOvgP0:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:31,884 ERROR [ThreadPoolTaskScheduler-1] [LAAOvgP0:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:31,884 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][222] overhead, spent [1.4s] collecting in the last [1.4s]
    2021-12-07 09:40:32,963 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][223] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:33,660 ERROR [ThreadPoolTaskScheduler-1] [WTRZSxEY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:33,660 ERROR [ThreadPoolTaskScheduler-1] [WTRZSxEY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:34,115 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][224] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:35,351 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][225] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:40:35,599 ERROR [ThreadPoolTaskScheduler-1] [wEDQMQOU:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:35,599 ERROR [ThreadPoolTaskScheduler-1] [wEDQMQOU:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:36,577 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][226] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:40:37,767 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][227] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:37,768 ERROR [ThreadPoolTaskScheduler-1] [ipoF7F04:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:37,768 ERROR [ThreadPoolTaskScheduler-1] [ipoF7F04:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:38,915 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][228] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:39,598 ERROR [ThreadPoolTaskScheduler-1] [60WWnx4M:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:39,598 ERROR [ThreadPoolTaskScheduler-1] [60WWnx4M:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:40,042 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][229] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:41,179 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][230] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:41,641 ERROR [ThreadPoolTaskScheduler-1] [52JqZeN8:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:41,641 ERROR [ThreadPoolTaskScheduler-1] [52JqZeN8:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:42,337 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][231] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:43,516 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][232] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:43,756 ERROR [ThreadPoolTaskScheduler-1] [riueg3CA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:43,756 ERROR [ThreadPoolTaskScheduler-1] [riueg3CA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:44,670 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][233] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:45,606 ERROR [ThreadPoolTaskScheduler-1] [1fCzfqPg:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:45,606 ERROR [ThreadPoolTaskScheduler-1] [1fCzfqPg:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:45,859 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][234] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:47,051 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][235] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:47,740 ERROR [ThreadPoolTaskScheduler-1] [QgUiCyxM:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:47,740 ERROR [ThreadPoolTaskScheduler-1] [QgUiCyxM:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:48,206 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][236] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:49,347 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][237] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:49,587 ERROR [ThreadPoolTaskScheduler-1] [eNwoy3bE:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:49,820 ERROR [ThreadPoolTaskScheduler-1] [eNwoy3bE:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:50,497 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][238] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:40:51,784 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][239] overhead, spent [996ms] collecting in the last [1s]
    2021-12-07 09:40:51,785 ERROR [ThreadPoolTaskScheduler-1] [lGg0AjIk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:51,785 ERROR [ThreadPoolTaskScheduler-1] [lGg0AjIk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:52,854 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][240] overhead, spent [1.3s] collecting in the last [1.3s]
    2021-12-07 09:40:53,576 ERROR [ThreadPoolTaskScheduler-1] [fpC38QPc:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:53,576 ERROR [ThreadPoolTaskScheduler-1] [fpC38QPc:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:54,057 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][241] overhead, spent [1.1s] collecting in the last [1.2s]
    2021-12-07 09:40:55,078 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][242] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:55,593 ERROR [ThreadPoolTaskScheduler-1] [HstjB3hk:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:55,594 ERROR [ThreadPoolTaskScheduler-1] [HstjB3hk:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:56,126 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][243] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:57,235 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][244] overhead, spent [1s] collecting in the last [1.1s]
    2021-12-07 09:40:57,721 ERROR [ThreadPoolTaskScheduler-1] [IGEw0bQI:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:57,721 ERROR [ThreadPoolTaskScheduler-1] [IGEw0bQI:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:40:58,251 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][245] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:59,320 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][246] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:40:59,589 ERROR [ThreadPoolTaskScheduler-1] [Omq9wSF0:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:40:59,589 ERROR [ThreadPoolTaskScheduler-1] [Omq9wSF0:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:00,392 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][247] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:41:01,487 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][248] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:41:01,772 ERROR [ThreadPoolTaskScheduler-1] [QaVjfJH8:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:01,773 ERROR [ThreadPoolTaskScheduler-1] [QaVjfJH8:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:02,537 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][249] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:41:03,772 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][250] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:41:03,772 ERROR [ThreadPoolTaskScheduler-1] [W0GHXmkY:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:03,772 ERROR [ThreadPoolTaskScheduler-1] [W0GHXmkY:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:04,786 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][251] overhead, spent [1s] collecting in the last [1s]
    2021-12-07 09:41:05,532 ERROR [ThreadPoolTaskScheduler-1] [eXciG0Tw:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:05,532 ERROR [ThreadPoolTaskScheduler-1] [eXciG0Tw:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:06,005 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][252] overhead, spent [1.2s] collecting in the last [1.2s]
    2021-12-07 09:41:16,094 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][253] overhead, spent [10s] collecting in the last [10s]
    2021-12-07 09:41:16,095 ERROR [ThreadPoolTaskScheduler-1] [BepZYjJs:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:16,095 WARN  [Test worker] [FJywRFyw::xm] GenericWebApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'buildLepProcessingApplicationListener' defined in class path resource [com/icthh/xm/ms/entity/config/LepAppEventListenerConfiguration.class]: Unsatisfied dependency expressed through method 'buildLepProcessingApplicationListener' parameter 11; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    2021-12-07 09:41:16,322 ERROR [ThreadPoolTaskScheduler-1] [BepZYjJs:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:16,551 ERROR [ThreadPoolTaskScheduler-1] [8KPiLKCQ:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:16,551 ERROR [ThreadPoolTaskScheduler-1] [8KPiLKCQ:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:16,777 ERROR [ThreadPoolTaskScheduler-1] [Og2bvWko:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 226 ms
    2021-12-07 09:41:16,778 ERROR [ThreadPoolTaskScheduler-1] [Og2bvWko:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:17,001 ERROR [ThreadPoolTaskScheduler-1] [kXcpo6SM:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 222 ms
    2021-12-07 09:41:17,001 ERROR [ThreadPoolTaskScheduler-1] [kXcpo6SM:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:17,002 INFO  [Test worker] [FJywRFyw::xm] EntityApp: 
    ----------------------------------------------------------
    	Application entity is closing
    ----------------------------------------------------------
    2021-12-07 09:41:17,002 ERROR [ThreadPoolTaskScheduler-1] [aPSw0f1A:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:17,002 ERROR [ThreadPoolTaskScheduler-1] [aPSw0f1A:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    2021-12-07 09:41:17,246 WARN  [elasticsearch[VYOcrgf][scheduler][T#1]] [] JvmGcMonitorService: [gc][254] overhead, spent [1.1s] collecting in the last [1.1s]
    2021-12-07 09:41:17,506 ERROR [Test worker] [FJywRFyw::xm] SpringApplication: Application run failed
    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'buildLepProcessingApplicationListener' defined in class path resource [com/icthh/xm/ms/entity/config/LepAppEventListenerConfiguration.class]: Unsatisfied dependency expressed through method 'buildLepProcessingApplicationListener' parameter 11; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
    	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
    	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
    	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)
    	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
    	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
    	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)
    	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)
    	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
    	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
    	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
    	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
    	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
    	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
    	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
    	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
    	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
    	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
    	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
    	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)
    	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor804.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
    	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
    	at com.sun.proxy.$Proxy5.processTestClass(Unknown Source)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)
    	at jdk.internal.reflect.GeneratedMethodAccessor803.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)
    	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)
    	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)
    	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
    	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
    	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
    	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)
    	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)
    	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
    	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
    	... 65 common frames omitted
    Caused by: java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    2021-12-07 09:41:17,729 ERROR [ThreadPoolTaskScheduler-1] [EkkSjYZA:RESINTTEST] ServiceLoggingAspect: srv:stop:  CustomMetricsService:metricByName, error: java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089) ... com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)..., time = 0 ms
    2021-12-07 09:41:17,729 ERROR [Test worker] [FJywRFyw::xm] TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@5d55cd40] to prepare test instance [com.icthh.xm.ms.entity.service.impl.AttachmentServiceIntTest@eff0252]
    java.lang.IllegalStateException: Failed to load ApplicationContext
    	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
    	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
    	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
    	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
    	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
    	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
    	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
    	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)
    	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)
    	at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)
    	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor804.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
    	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
    	at com.sun.proxy.$Proxy5.processTestClass(Unknown Source)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)
    	at jdk.internal.reflect.GeneratedMethodAccessor803.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)
    	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)
    	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)
    	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)
    	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)
    	at java.base/java.lang.Thread.run(Thread.java:829)
    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'buildLepProcessingApplicationListener' defined in class path resource [com/icthh/xm/ms/entity/config/LepAppEventListenerConfiguration.class]: Unsatisfied dependency expressed through method 'buildLepProcessingApplicationListener' parameter 11; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
    	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
    	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
    	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)
    	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
    	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
    	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)
    	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)
    	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
    	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
    	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
    	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
    	... 47 common frames omitted
    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
    	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
    	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
    	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
    	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
    	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)
    	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)
    	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
    	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
    	... 65 common frames omitted
    Caused by: java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects
    2021-12-07 09:41:17,729 ERROR [ThreadPoolTaskScheduler-1] [EkkSjYZA:RESINTTEST] CustomMetricsService: Error update metric
    java.lang.IllegalStateException: org.springframework.web.context.support.GenericWebApplicationContext@e7142d3 has been closed already
    	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1089)
    	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1122)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.getKeyResolver(LepServiceHandler.java:161)
    	at com.icthh.xm.commons.lep.spring.LepServiceHandler.onMethodInvoke(LepServiceHandler.java:74)
    	at com.icthh.xm.commons.lep.spring.AspectForLepInBeanDetection.logicExtensionPoint(AspectForLepInBeanDetection.java:51)
    	at jdk.internal.reflect.GeneratedMethodAccessor901.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.metricByName(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$updateMetric$1(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.lambda$runInTenantContext$3(CustomMetricsService.java:65)
    	at com.icthh.xm.commons.tenant.internal.TenantContextDataHolder.execute(TenantContextDataHolder.java:178)
    	at com.icthh.xm.commons.tenant.internal.ThreadLocalPrivilegedTenantContext.execute(ThreadLocalPrivilegedTenantContext.java:59)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.runInTenantContext(CustomMetricsService.java:62)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService.updateMetric(CustomMetricsService.java:51)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$FastClassBySpringCGLIB$$a0574d02.invoke(<generated>)
    	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
    	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
    	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
    	at com.icthh.xm.commons.logging.aop.ServiceLoggingAspect.logBeforeService(ServiceLoggingAspect.java:85)
    	at jdk.internal.reflect.GeneratedMethodAccessor535.invoke(Unknown Source)
    	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
    	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
    	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
    	at com.icthh.xm.ms.entity.service.metrics.CustomMetricsService$$EnhancerBySpringCGLIB$$e8392c32.updateMetric(<generated>)
    	at com.icthh.xm.ms.entity.service.metrics.PeriodicMetricsService.lambda$schedulerCustomMetric$4(PeriodicMetricsService.java:42)
    	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
    	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
    	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
    	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
    	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    	at java.base/java.lang.Thread.run(Thread.java:829)

com.icthh.xm.ms.entity.service.impl.AttachmentServiceIntTest > testFindAll FAILED
    java.lang.IllegalStateException: Failed to load ApplicationContext

        Caused by:
        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'buildLepProcessingApplicationListener' defined in class path resource [com/icthh/xm/ms/entity/config/LepAppEventListenerConfiguration.class]: Unsatisfied dependency expressed through method 'buildLepProcessingApplicationListener' parameter 11; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects

            Caused by:
            org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loadBalancedRestTemplateWithTimeout' defined in class path resource [com/icthh/xm/ms/entity/config/RestTemplateConfiguration.class]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects

                Caused by:
                java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects

com.icthh.xm.ms.entity.service.impl.AttachmentServiceIntTest > testDeleteAll FAILED
    java.lang.OutOfMemoryError: Java heap space: failed reallocation of scalar replaced objects

com.icthh.xm.ms.entity.service.impl.EntityServiceImplIntTest > testGetSequenceNextValString FAILED
    java.lang.OutOfMemoryError: Java heap space

com.icthh.xm.ms.entity.service.impl.EntityServiceImplIntTest > testGetLinkSourcesSelfKey FAILED
    java.lang.OutOfMemoryError: Java heap space

com.icthh.xm.ms.entity.service.impl.EntityServiceImplIntTest > deleteSelfLinkTarget FAILED
    java.lang.OutOfMemoryError: Java heap space

com.icthh.xm.ms.entity.service.impl.EntityServiceImplIntTest > searchByTemplateAndTypeKey FAILED
    java.lang.OutOfMemoryError: Java heap space
Terminate batch job (Y/N)? 
